/*!
 * rc_sim2d.js — 2D Robot Simulator for RoboScratch / CustomBlock
 * - separate file (not inside customblock.js)
 * - mouse wheel zooms workspace like Scratch, drag pans
 * - 4 configurable line sensors + 1 distance sensor
 * - built‑in tracks + user track drawing + JSON import/export
 *
 * NOTE: This file intentionally contains large built-in track point lists
 * to keep everything offline and deterministic.
 */
(function(){
  'use strict';

  // ---------------------------------------------------------------------------
  // Minimal helpers (no deps)
  // ---------------------------------------------------------------------------
  const $ = (sel, root=document) => root.querySelector(sel);
  const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));
  const clamp = (v, a, b) => (v < a ? a : (v > b ? b : v));
  const lerp = (a, b, t) => a + (b-a)*t;
  const now = () => (typeof performance !== 'undefined' ? performance.now() : Date.now());
  const raf = (fn) => requestAnimationFrame(fn);

  function el(tag, attrs={}, ...kids){
    const n = document.createElement(tag);
    for (const [k,v] of Object.entries(attrs||{})){
      if (k === 'class') n.className = v;
      else if (k === 'style') n.setAttribute('style', v);
      else if (k.startsWith('on') && typeof v === 'function') n.addEventListener(k.slice(2), v);
      else if (v === true) n.setAttribute(k, '');
      else if (v !== false && v != null) n.setAttribute(k, String(v));
    }
    for (const k of kids.flat()){
      if (k == null) continue;
      if (k.nodeType) n.appendChild(k);
      else n.appendChild(document.createTextNode(String(k)));
    }
    return n;
  }

  function toast(msg){
    try{
      const host = document.body;
      const box = el('div', { class:'rcSimToast' }, msg);
      host.appendChild(box);
      setTimeout(()=> box.classList.add('show'), 30);
      setTimeout(()=> { box.classList.remove('show'); setTimeout(()=> box.remove(), 350); }, 2600);
    }catch(e){
      console.log('[SIM]', msg);
    }
  }

  // ---------------------------------------------------------------------------
  // Styles (isolated)
  // ---------------------------------------------------------------------------
  const css = `
  .rcSimToast{position:fixed;left:50%;bottom:18px;transform:translateX(-50%);background:rgba(15,23,42,.92);
    color:#e2e8f0;border:1px solid rgba(148,163,184,.25);border-radius:12px;padding:10px 12px;font:14px/1.25 system-ui;
    opacity:0;pointer-events:none;transition:opacity .25s, transform .25s;z-index:2147483647}
  .rcSimToast.show{opacity:1;transform:translateX(-50%) translateY(-6px)}
  .rcSimBackdrop{position:fixed;inset:0;background:rgba(0,0,0,.45);backdrop-filter:blur(8px);z-index:2147483000}
  .rcSimModal{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);width:min(1200px,92vw);height:min(720px,86vh);
    background:linear-gradient(180deg, rgba(15,23,42,.96), rgba(2,6,23,.96));
    border:1px solid rgba(148,163,184,.18);border-radius:18px;box-shadow:0 26px 70px rgba(0,0,0,.55);
    overflow:hidden;z-index:2147483001;display:flex;flex-direction:column}
  .rcSimHdr{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;border-bottom:1px solid rgba(148,163,184,.14)}
  .rcSimHdr .title{display:flex;align-items:center;gap:10px;font:700 14px/1 system-ui;letter-spacing:.4px;color:#e2e8f0}
  .rcSimHdr .dot{width:10px;height:10px;border-radius:999px;background:#f59e0b;box-shadow:0 0 0 3px rgba(245,158,11,.18)}
  .rcSimHdr .actions{display:flex;gap:8px;align-items:center}
  .rcSimBtn{appearance:none;border:1px solid rgba(148,163,184,.22);background:rgba(30,41,59,.55);color:#e2e8f0;
    padding:8px 10px;border-radius:12px;font:600 13px/1 system-ui;cursor:pointer}
  .rcSimBtn:hover{background:rgba(30,41,59,.8)}
  .rcSimBtn.primary{background:rgba(37,99,235,.85);border-color:rgba(37,99,235,.8)}
  .rcSimBtn.primary:hover{background:rgba(37,99,235,1)}
  .rcSimBtn.danger{background:rgba(239,68,68,.18);border-color:rgba(239,68,68,.28)}
  .rcSimBtn.danger:hover{background:rgba(239,68,68,.25)}
  .rcSimBody{flex:1;display:grid;grid-template-columns:300px 1fr;min-height:0}
  .rcSimSide{border-right:1px solid rgba(148,163,184,.14);padding:12px;overflow:auto}
  .rcSimSide h3{margin:10px 0 6px;font:800 12px/1 system-ui;letter-spacing:.6px;color:#94a3b8;text-transform:uppercase}
  .rcSimRow{display:flex;gap:8px;align-items:center;margin:6px 0}
  .rcSimRow label{flex:1;color:#cbd5e1;font:600 13px/1.2 system-ui}
  .rcSimRow select,.rcSimRow input{flex:1;min-width:0;background:rgba(2,6,23,.25);border:1px solid rgba(148,163,184,.22);
    color:#e2e8f0;border-radius:10px;padding:8px 10px;font:13px/1 system-ui}
  .rcSimRow input[type="checkbox"]{flex:0;transform:scale(1.1)}
  .rcSimHint{color:#94a3b8;font:12px/1.35 system-ui;margin:8px 0}
  .rcSimCanvasWrap{position:relative;min-height:0}
  .rcSimCanvas{position:absolute;inset:0;width:100%;height:100%;display:block;cursor:grab}
  .rcSimCanvas.grabbing{cursor:grabbing}
  .rcSimOverlay{position:absolute;left:12px;top:12px;display:flex;flex-direction:column;gap:6px;pointer-events:none}
  .rcSimBadge{pointer-events:none;background:rgba(15,23,42,.75);border:1px solid rgba(148,163,184,.18);
    color:#e2e8f0;padding:6px 8px;border-radius:12px;font:600 12px/1 system-ui}
  .rcSimFooter{padding:10px 12px;border-top:1px solid rgba(148,163,184,.14);display:flex;gap:8px;align-items:center;justify-content:space-between}
  .rcSimFooter .left{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
  .rcSimFooter .right{display:flex;gap:8px;align-items:center}
  .rcSimCodeBox{background:rgba(2,6,23,.35);border:1px solid rgba(148,163,184,.16);border-radius:14px;padding:10px;margin-top:10px}
  .rcSimCodeBox textarea{width:100%;height:110px;resize:vertical;background:transparent;border:0;outline:none;color:#e2e8f0;
    font:12px/1.35 ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace}
  .rcSimSmall{font:12px/1.3 system-ui;color:#94a3b8}
  `;
  const styleTag = el('style', {}, css);
  document.head.appendChild(styleTag);

  // ---------------------------------------------------------------------------
  // Built-in tracks (polyline points)
  // Each track is a polyline in WORLD space (pixels). The line is rendered with
  // a thick black stroke on a white background.
  // ---------------------------------------------------------------------------
  const BUILTIN_TRACKS = {
    "oval": {
      key: "oval",
      name: "\u041e\u0432\u0430\u043b",
      lineWidth: 42,
      points: [
      [520.00, 0.00],
      [519.98, 2.51],
      [519.94, 5.03],
      [519.86, 7.54],
      [519.74, 10.05],
      [519.60, 12.56],
      [519.42, 15.07],
      [519.21, 17.58],
      [518.97, 20.09],
      [518.70, 22.60],
      [518.40, 25.11],
      [518.06, 27.61],
      [517.69, 30.11],
      [517.29, 32.62],
      [516.86, 35.11],
      [516.40, 37.61],
      [515.90, 40.11],
      [515.37, 42.60],
      [514.81, 45.09],
      [514.22, 47.58],
      [513.60, 50.06],
      [512.94, 52.54],
      [512.26, 55.02],
      [511.54, 57.49],
      [510.79, 59.96],
      [510.01, 62.43],
      [509.20, 64.89],
      [508.35, 67.35],
      [507.48, 69.81],
      [506.57, 72.26],
      [505.63, 74.70],
      [504.66, 77.14],
      [503.66, 79.58],
      [502.63, 82.01],
      [501.57, 84.44],
      [500.48, 86.86],
      [499.35, 89.28],
      [498.20, 91.69],
      [497.01, 94.09],
      [495.80, 96.49],
      [494.55, 98.89],
      [493.27, 101.27],
      [491.96, 103.65],
      [490.63, 106.03],
      [489.26, 108.40],
      [487.86, 110.76],
      [486.43, 113.11],
      [484.97, 115.46],
      [483.48, 117.80],
      [481.97, 120.13],
      [480.42, 122.46],
      [478.84, 124.78],
      [477.23, 127.09],
      [475.60, 129.39],
      [473.93, 131.68],
      [472.23, 133.97],
      [470.51, 136.25],
      [468.76, 138.52],
      [466.97, 140.78],
      [465.16, 143.03],
      [463.32, 145.28],
      [461.45, 147.51],
      [459.56, 149.74],
      [457.63, 151.95],
      [455.68, 154.16],
      [453.70, 156.36],
      [451.69, 158.55],
      [449.65, 160.72],
      [447.59, 162.89],
      [445.49, 165.05],
      [443.37, 167.20],
      [441.23, 169.34],
      [439.05, 171.46],
      [436.85, 173.58],
      [434.62, 175.69],
      [432.36, 177.78],
      [430.08, 179.87],
      [427.77, 181.94],
      [425.44, 184.00],
      [423.08, 186.05],
      [420.69, 188.09],
      [418.28, 190.12],
      [415.84, 192.13],
      [413.37, 194.14],
      [410.88, 196.13],
      [408.36, 198.11],
      [405.82, 200.08],
      [403.26, 202.03],
      [400.67, 203.98],
      [398.05, 205.91],
      [395.41, 207.82],
      [392.75, 209.73],
      [390.06, 211.62],
      [387.34, 213.50],
      [384.61, 215.36],
      [381.85, 217.22],
      [379.06, 219.06],
      [376.26, 220.88],
      [373.43, 222.69],
      [370.57, 224.49],
      [367.70, 226.27],
      [364.80, 228.04],
      [361.87, 229.80],
      [358.93, 231.54],
      [355.96, 233.27],
      [352.98, 234.98],
      [349.97, 236.68],
      [346.94, 238.37],
      [343.88, 240.04],
      [340.81, 241.69],
      [337.71, 243.33],
      [334.60, 244.95],
      [331.46, 246.56],
      [328.30, 248.16],
      [325.13, 249.74],
      [321.93, 251.30],
      [318.71, 252.85],
      [315.47, 254.38],
      [312.22, 255.90],
      [308.94, 257.40],
      [305.65, 258.89],
      [302.33, 260.35],
      [299.00, 261.81],
      [295.65, 263.24],
      [292.28, 264.67],
      [288.90, 266.07],
      [285.49, 267.46],
      [282.07, 268.83],
      [278.63, 270.18],
      [275.17, 271.52],
      [271.70, 272.84],
      [268.21, 274.15],
      [264.70, 275.44],
      [261.18, 276.71],
      [257.64, 277.96],
      [254.08, 279.20],
      [250.51, 280.42],
      [246.93, 281.62],
      [243.32, 282.81],
      [239.71, 283.97],
      [236.08, 285.12],
      [232.43, 286.25],
      [228.77, 287.37],
      [225.09, 288.47],
      [221.41, 289.54],
      [217.70, 290.61],
      [213.99, 291.65],
      [210.26, 292.67],
      [206.52, 293.68],
      [202.76, 294.67],
      [199.00, 295.64],
      [195.22, 296.59],
      [191.42, 297.53],
      [187.62, 298.44],
      [183.81, 299.34],
      [179.98, 300.22],
      [176.14, 301.08],
      [172.30, 301.92],
      [168.44, 302.75],
      [164.57, 303.55],
      [160.69, 304.34],
      [156.80, 305.11],
      [152.90, 305.85],
      [148.99, 306.58],
      [145.08, 307.29],
      [141.15, 307.99],
      [137.21, 308.66],
      [133.27, 309.31],
      [129.32, 309.95],
      [125.36, 310.56],
      [121.39, 311.16],
      [117.42, 311.74],
      [113.43, 312.29],
      [109.45, 312.83],
      [105.45, 313.35],
      [101.45, 313.85],
      [97.44, 314.33],
      [93.42, 314.79],
      [89.40, 315.23],
      [85.38, 315.66],
      [81.35, 316.06],
      [77.31, 316.44],
      [73.27, 316.81],
      [69.22, 317.15],
      [65.17, 317.48],
      [61.12, 317.78],
      [57.06, 318.07],
      [53.00, 318.33],
      [48.94, 318.58],
      [44.87, 318.81],
      [40.80, 319.01],
      [36.73, 319.20],
      [32.65, 319.37],
      [28.57, 319.52],
      [24.50, 319.64],
      [20.42, 319.75],
      [16.33, 319.84],
      [12.25, 319.91],
      [8.17, 319.96],
      [4.08, 319.99],
      [0.00, 320.00],
      [-4.08, 319.99],
      [-8.17, 319.96],
      [-12.25, 319.91],
      [-16.33, 319.84],
      [-20.42, 319.75],
      [-24.50, 319.64],
      [-28.57, 319.52],
      [-32.65, 319.37],
      [-36.73, 319.20],
      [-40.80, 319.01],
      [-44.87, 318.81],
      [-48.94, 318.58],
      [-53.00, 318.33],
      [-57.06, 318.07],
      [-61.12, 317.78],
      [-65.17, 317.48],
      [-69.22, 317.15],
      [-73.27, 316.81],
      [-77.31, 316.44],
      [-81.35, 316.06],
      [-85.38, 315.66],
      [-89.40, 315.23],
      [-93.42, 314.79],
      [-97.44, 314.33],
      [-101.45, 313.85],
      [-105.45, 313.35],
      [-109.45, 312.83],
      [-113.43, 312.29],
      [-117.42, 311.74],
      [-121.39, 311.16],
      [-125.36, 310.56],
      [-129.32, 309.95],
      [-133.27, 309.31],
      [-137.21, 308.66],
      [-141.15, 307.99],
      [-145.08, 307.29],
      [-148.99, 306.58],
      [-152.90, 305.85],
      [-156.80, 305.11],
      [-160.69, 304.34],
      [-164.57, 303.55],
      [-168.44, 302.75],
      [-172.30, 301.92],
      [-176.14, 301.08],
      [-179.98, 300.22],
      [-183.81, 299.34],
      [-187.62, 298.44],
      [-191.42, 297.53],
      [-195.22, 296.59],
      [-199.00, 295.64],
      [-202.76, 294.67],
      [-206.52, 293.68],
      [-210.26, 292.67],
      [-213.99, 291.65],
      [-217.70, 290.61],
      [-221.41, 289.54],
      [-225.09, 288.47],
      [-228.77, 287.37],
      [-232.43, 286.25],
      [-236.08, 285.12],
      [-239.71, 283.97],
      [-243.32, 282.81],
      [-246.93, 281.62],
      [-250.51, 280.42],
      [-254.08, 279.20],
      [-257.64, 277.96],
      [-261.18, 276.71],
      [-264.70, 275.44],
      [-268.21, 274.15],
      [-271.70, 272.84],
      [-275.17, 271.52],
      [-278.63, 270.18],
      [-282.07, 268.83],
      [-285.49, 267.46],
      [-288.90, 266.07],
      [-292.28, 264.67],
      [-295.65, 263.24],
      [-299.00, 261.81],
      [-302.33, 260.35],
      [-305.65, 258.89],
      [-308.94, 257.40],
      [-312.22, 255.90],
      [-315.47, 254.38],
      [-318.71, 252.85],
      [-321.93, 251.30],
      [-325.13, 249.74],
      [-328.30, 248.16],
      [-331.46, 246.56],
      [-334.60, 244.95],
      [-337.71, 243.33],
      [-340.81, 241.69],
      [-343.88, 240.04],
      [-346.94, 238.37],
      [-349.97, 236.68],
      [-352.98, 234.98],
      [-355.96, 233.27],
      [-358.93, 231.54],
      [-361.87, 229.80],
      [-364.80, 228.04],
      [-367.70, 226.27],
      [-370.57, 224.49],
      [-373.43, 222.69],
      [-376.26, 220.88],
      [-379.06, 219.06],
      [-381.85, 217.22],
      [-384.61, 215.36],
      [-387.34, 213.50],
      [-390.06, 211.62],
      [-392.75, 209.73],
      [-395.41, 207.82],
      [-398.05, 205.91],
      [-400.67, 203.98],
      [-403.26, 202.03],
      [-405.82, 200.08],
      [-408.36, 198.11],
      [-410.88, 196.13],
      [-413.37, 194.14],
      [-415.84, 192.13],
      [-418.28, 190.12],
      [-420.69, 188.09],
      [-423.08, 186.05],
      [-425.44, 184.00],
      [-427.77, 181.94],
      [-430.08, 179.87],
      [-432.36, 177.78],
      [-434.62, 175.69],
      [-436.85, 173.58],
      [-439.05, 171.46],
      [-441.23, 169.34],
      [-443.37, 167.20],
      [-445.49, 165.05],
      [-447.59, 162.89],
      [-449.65, 160.72],
      [-451.69, 158.55],
      [-453.70, 156.36],
      [-455.68, 154.16],
      [-457.63, 151.95],
      [-459.56, 149.74],
      [-461.45, 147.51],
      [-463.32, 145.28],
      [-465.16, 143.03],
      [-466.97, 140.78],
      [-468.76, 138.52],
      [-470.51, 136.25],
      [-472.23, 133.97],
      [-473.93, 131.68],
      [-475.60, 129.39],
      [-477.23, 127.09],
      [-478.84, 124.78],
      [-480.42, 122.46],
      [-481.97, 120.13],
      [-483.48, 117.80],
      [-484.97, 115.46],
      [-486.43, 113.11],
      [-487.86, 110.76],
      [-489.26, 108.40],
      [-490.63, 106.03],
      [-491.96, 103.65],
      [-493.27, 101.27],
      [-494.55, 98.89],
      [-495.80, 96.49],
      [-497.01, 94.09],
      [-498.20, 91.69],
      [-499.35, 89.28],
      [-500.48, 86.86],
      [-501.57, 84.44],
      [-502.63, 82.01],
      [-503.66, 79.58],
      [-504.66, 77.14],
      [-505.63, 74.70],
      [-506.57, 72.26],
      [-507.48, 69.81],
      [-508.35, 67.35],
      [-509.20, 64.89],
      [-510.01, 62.43],
      [-510.79, 59.96],
      [-511.54, 57.49],
      [-512.26, 55.02],
      [-512.94, 52.54],
      [-513.60, 50.06],
      [-514.22, 47.58],
      [-514.81, 45.09],
      [-515.37, 42.60],
      [-515.90, 40.11],
      [-516.40, 37.61],
      [-516.86, 35.11],
      [-517.29, 32.62],
      [-517.69, 30.11],
      [-518.06, 27.61],
      [-518.40, 25.11],
      [-518.70, 22.60],
      [-518.97, 20.09],
      [-519.21, 17.58],
      [-519.42, 15.07],
      [-519.60, 12.56],
      [-519.74, 10.05],
      [-519.86, 7.54],
      [-519.94, 5.03],
      [-519.98, 2.51],
      [-520.00, 0.00],
      [-519.98, -2.51],
      [-519.94, -5.03],
      [-519.86, -7.54],
      [-519.74, -10.05],
      [-519.60, -12.56],
      [-519.42, -15.07],
      [-519.21, -17.58],
      [-518.97, -20.09],
      [-518.70, -22.60],
      [-518.40, -25.11],
      [-518.06, -27.61],
      [-517.69, -30.11],
      [-517.29, -32.62],
      [-516.86, -35.11],
      [-516.40, -37.61],
      [-515.90, -40.11],
      [-515.37, -42.60],
      [-514.81, -45.09],
      [-514.22, -47.58],
      [-513.60, -50.06],
      [-512.94, -52.54],
      [-512.26, -55.02],
      [-511.54, -57.49],
      [-510.79, -59.96],
      [-510.01, -62.43],
      [-509.20, -64.89],
      [-508.35, -67.35],
      [-507.48, -69.81],
      [-506.57, -72.26],
      [-505.63, -74.70],
      [-504.66, -77.14],
      [-503.66, -79.58],
      [-502.63, -82.01],
      [-501.57, -84.44],
      [-500.48, -86.86],
      [-499.35, -89.28],
      [-498.20, -91.69],
      [-497.01, -94.09],
      [-495.80, -96.49],
      [-494.55, -98.89],
      [-493.27, -101.27],
      [-491.96, -103.65],
      [-490.63, -106.03],
      [-489.26, -108.40],
      [-487.86, -110.76],
      [-486.43, -113.11],
      [-484.97, -115.46],
      [-483.48, -117.80],
      [-481.97, -120.13],
      [-480.42, -122.46],
      [-478.84, -124.78],
      [-477.23, -127.09],
      [-475.60, -129.39],
      [-473.93, -131.68],
      [-472.23, -133.97],
      [-470.51, -136.25],
      [-468.76, -138.52],
      [-466.97, -140.78],
      [-465.16, -143.03],
      [-463.32, -145.28],
      [-461.45, -147.51],
      [-459.56, -149.74],
      [-457.63, -151.95],
      [-455.68, -154.16],
      [-453.70, -156.36],
      [-451.69, -158.55],
      [-449.65, -160.72],
      [-447.59, -162.89],
      [-445.49, -165.05],
      [-443.37, -167.20],
      [-441.23, -169.34],
      [-439.05, -171.46],
      [-436.85, -173.58],
      [-434.62, -175.69],
      [-432.36, -177.78],
      [-430.08, -179.87],
      [-427.77, -181.94],
      [-425.44, -184.00],
      [-423.08, -186.05],
      [-420.69, -188.09],
      [-418.28, -190.12],
      [-415.84, -192.13],
      [-413.37, -194.14],
      [-410.88, -196.13],
      [-408.36, -198.11],
      [-405.82, -200.08],
      [-403.26, -202.03],
      [-400.67, -203.98],
      [-398.05, -205.91],
      [-395.41, -207.82],
      [-392.75, -209.73],
      [-390.06, -211.62],
      [-387.34, -213.50],
      [-384.61, -215.36],
      [-381.85, -217.22],
      [-379.06, -219.06],
      [-376.26, -220.88],
      [-373.43, -222.69],
      [-370.57, -224.49],
      [-367.70, -226.27],
      [-364.80, -228.04],
      [-361.87, -229.80],
      [-358.93, -231.54],
      [-355.96, -233.27],
      [-352.98, -234.98],
      [-349.97, -236.68],
      [-346.94, -238.37],
      [-343.88, -240.04],
      [-340.81, -241.69],
      [-337.71, -243.33],
      [-334.60, -244.95],
      [-331.46, -246.56],
      [-328.30, -248.16],
      [-325.13, -249.74],
      [-321.93, -251.30],
      [-318.71, -252.85],
      [-315.47, -254.38],
      [-312.22, -255.90],
      [-308.94, -257.40],
      [-305.65, -258.89],
      [-302.33, -260.35],
      [-299.00, -261.81],
      [-295.65, -263.24],
      [-292.28, -264.67],
      [-288.90, -266.07],
      [-285.49, -267.46],
      [-282.07, -268.83],
      [-278.63, -270.18],
      [-275.17, -271.52],
      [-271.70, -272.84],
      [-268.21, -274.15],
      [-264.70, -275.44],
      [-261.18, -276.71],
      [-257.64, -277.96],
      [-254.08, -279.20],
      [-250.51, -280.42],
      [-246.93, -281.62],
      [-243.32, -282.81],
      [-239.71, -283.97],
      [-236.08, -285.12],
      [-232.43, -286.25],
      [-228.77, -287.37],
      [-225.09, -288.47],
      [-221.41, -289.54],
      [-217.70, -290.61],
      [-213.99, -291.65],
      [-210.26, -292.67],
      [-206.52, -293.68],
      [-202.76, -294.67],
      [-199.00, -295.64],
      [-195.22, -296.59],
      [-191.42, -297.53],
      [-187.62, -298.44],
      [-183.81, -299.34],
      [-179.98, -300.22],
      [-176.14, -301.08],
      [-172.30, -301.92],
      [-168.44, -302.75],
      [-164.57, -303.55],
      [-160.69, -304.34],
      [-156.80, -305.11],
      [-152.90, -305.85],
      [-148.99, -306.58],
      [-145.08, -307.29],
      [-141.15, -307.99],
      [-137.21, -308.66],
      [-133.27, -309.31],
      [-129.32, -309.95],
      [-125.36, -310.56],
      [-121.39, -311.16],
      [-117.42, -311.74],
      [-113.43, -312.29],
      [-109.45, -312.83],
      [-105.45, -313.35],
      [-101.45, -313.85],
      [-97.44, -314.33],
      [-93.42, -314.79],
      [-89.40, -315.23],
      [-85.38, -315.66],
      [-81.35, -316.06],
      [-77.31, -316.44],
      [-73.27, -316.81],
      [-69.22, -317.15],
      [-65.17, -317.48],
      [-61.12, -317.78],
      [-57.06, -318.07],
      [-53.00, -318.33],
      [-48.94, -318.58],
      [-44.87, -318.81],
      [-40.80, -319.01],
      [-36.73, -319.20],
      [-32.65, -319.37],
      [-28.57, -319.52],
      [-24.50, -319.64],
      [-20.42, -319.75],
      [-16.33, -319.84],
      [-12.25, -319.91],
      [-8.17, -319.96],
      [-4.08, -319.99],
      [-0.00, -320.00],
      [4.08, -319.99],
      [8.17, -319.96],
      [12.25, -319.91],
      [16.33, -319.84],
      [20.42, -319.75],
      [24.50, -319.64],
      [28.57, -319.52],
      [32.65, -319.37],
      [36.73, -319.20],
      [40.80, -319.01],
      [44.87, -318.81],
      [48.94, -318.58],
      [53.00, -318.33],
      [57.06, -318.07],
      [61.12, -317.78],
      [65.17, -317.48],
      [69.22, -317.15],
      [73.27, -316.81],
      [77.31, -316.44],
      [81.35, -316.06],
      [85.38, -315.66],
      [89.40, -315.23],
      [93.42, -314.79],
      [97.44, -314.33],
      [101.45, -313.85],
      [105.45, -313.35],
      [109.45, -312.83],
      [113.43, -312.29],
      [117.42, -311.74],
      [121.39, -311.16],
      [125.36, -310.56],
      [129.32, -309.95],
      [133.27, -309.31],
      [137.21, -308.66],
      [141.15, -307.99],
      [145.08, -307.29],
      [148.99, -306.58],
      [152.90, -305.85],
      [156.80, -305.11],
      [160.69, -304.34],
      [164.57, -303.55],
      [168.44, -302.75],
      [172.30, -301.92],
      [176.14, -301.08],
      [179.98, -300.22],
      [183.81, -299.34],
      [187.62, -298.44],
      [191.42, -297.53],
      [195.22, -296.59],
      [199.00, -295.64],
      [202.76, -294.67],
      [206.52, -293.68],
      [210.26, -292.67],
      [213.99, -291.65],
      [217.70, -290.61],
      [221.41, -289.54],
      [225.09, -288.47],
      [228.77, -287.37],
      [232.43, -286.25],
      [236.08, -285.12],
      [239.71, -283.97],
      [243.32, -282.81],
      [246.93, -281.62],
      [250.51, -280.42],
      [254.08, -279.20],
      [257.64, -277.96],
      [261.18, -276.71],
      [264.70, -275.44],
      [268.21, -274.15],
      [271.70, -272.84],
      [275.17, -271.52],
      [278.63, -270.18],
      [282.07, -268.83],
      [285.49, -267.46],
      [288.90, -266.07],
      [292.28, -264.67],
      [295.65, -263.24],
      [299.00, -261.81],
      [302.33, -260.35],
      [305.65, -258.89],
      [308.94, -257.40],
      [312.22, -255.90],
      [315.47, -254.38],
      [318.71, -252.85],
      [321.93, -251.30],
      [325.13, -249.74],
      [328.30, -248.16],
      [331.46, -246.56],
      [334.60, -244.95],
      [337.71, -243.33],
      [340.81, -241.69],
      [343.88, -240.04],
      [346.94, -238.37],
      [349.97, -236.68],
      [352.98, -234.98],
      [355.96, -233.27],
      [358.93, -231.54],
      [361.87, -229.80],
      [364.80, -228.04],
      [367.70, -226.27],
      [370.57, -224.49],
      [373.43, -222.69],
      [376.26, -220.88],
      [379.06, -219.06],
      [381.85, -217.22],
      [384.61, -215.36],
      [387.34, -213.50],
      [390.06, -211.62],
      [392.75, -209.73],
      [395.41, -207.82],
      [398.05, -205.91],
      [400.67, -203.98],
      [403.26, -202.03],
      [405.82, -200.08],
      [408.36, -198.11],
      [410.88, -196.13],
      [413.37, -194.14],
      [415.84, -192.13],
      [418.28, -190.12],
      [420.69, -188.09],
      [423.08, -186.05],
      [425.44, -184.00],
      [427.77, -181.94],
      [430.08, -179.87],
      [432.36, -177.78],
      [434.62, -175.69],
      [436.85, -173.58],
      [439.05, -171.46],
      [441.23, -169.34],
      [443.37, -167.20],
      [445.49, -165.05],
      [447.59, -162.89],
      [449.65, -160.72],
      [451.69, -158.55],
      [453.70, -156.36],
      [455.68, -154.16],
      [457.63, -151.95],
      [459.56, -149.74],
      [461.45, -147.51],
      [463.32, -145.28],
      [465.16, -143.03],
      [466.97, -140.78],
      [468.76, -138.52],
      [470.51, -136.25],
      [472.23, -133.97],
      [473.93, -131.68],
      [475.60, -129.39],
      [477.23, -127.09],
      [478.84, -124.78],
      [480.42, -122.46],
      [481.97, -120.13],
      [483.48, -117.80],
      [484.97, -115.46],
      [486.43, -113.11],
      [487.86, -110.76],
      [489.26, -108.40],
      [490.63, -106.03],
      [491.96, -103.65],
      [493.27, -101.27],
      [494.55, -98.89],
      [495.80, -96.49],
      [497.01, -94.09],
      [498.20, -91.69],
      [499.35, -89.28],
      [500.48, -86.86],
      [501.57, -84.44],
      [502.63, -82.01],
      [503.66, -79.58],
      [504.66, -77.14],
      [505.63, -74.70],
      [506.57, -72.26],
      [507.48, -69.81],
      [508.35, -67.35],
      [509.20, -64.89],
      [510.01, -62.43],
      [510.79, -59.96],
      [511.54, -57.49],
      [512.26, -55.02],
      [512.94, -52.54],
      [513.60, -50.06],
      [514.22, -47.58],
      [514.81, -45.09],
      [515.37, -42.60],
      [515.90, -40.11],
      [516.40, -37.61],
      [516.86, -35.11],
      [517.29, -32.62],
      [517.69, -30.11],
      [518.06, -27.61],
      [518.40, -25.11],
      [518.70, -22.60],
      [518.97, -20.09],
      [519.21, -17.58],
      [519.42, -15.07],
      [519.60, -12.56],
      [519.74, -10.05],
      [519.86, -7.54],
      [519.94, -5.03],
      [519.98, -2.51],
      ],
      obstacles: [{"t": "rect", "x": 0, "y": 0, "w": 140, "h": 140}, {"t": "rect", "x": -220, "y": 120, "w": 120, "h": 80}, {"t": "circle", "x": 260, "y": -80, "r": 55}],
    },
    "eight": {
      key: "eight",
      name: "\u0412\u0456\u0441\u0456\u043c\u043a\u0430",
      lineWidth: 38,
      points: [
      [0.00, 0.00],
      [3.61, 2.51],
      [7.23, 5.03],
      [10.84, 7.54],
      [14.45, 10.05],
      [18.06, 12.55],
      [21.67, 15.06],
      [25.28, 17.56],
      [28.88, 20.05],
      [32.49, 22.54],
      [36.09, 25.03],
      [39.69, 27.51],
      [43.29, 29.98],
      [46.89, 32.45],
      [50.48, 34.90],
      [54.07, 37.35],
      [57.65, 39.79],
      [61.24, 42.22],
      [64.81, 44.64],
      [68.39, 47.05],
      [71.96, 49.44],
      [75.53, 51.83],
      [79.09, 54.20],
      [82.64, 56.56],
      [86.20, 58.90],
      [89.74, 61.23],
      [93.28, 63.54],
      [96.82, 65.84],
      [100.35, 68.12],
      [103.87, 70.39],
      [107.38, 72.64],
      [110.89, 74.87],
      [114.40, 77.08],
      [117.89, 79.27],
      [121.38, 81.45],
      [124.86, 83.60],
      [128.34, 85.73],
      [131.80, 87.84],
      [135.26, 89.93],
      [138.71, 92.00],
      [142.15, 94.05],
      [145.58, 96.07],
      [149.00, 98.07],
      [152.42, 100.04],
      [155.82, 101.99],
      [159.21, 103.91],
      [162.60, 105.81],
      [165.97, 107.68],
      [169.34, 109.53],
      [172.69, 111.35],
      [176.03, 113.14],
      [179.37, 114.90],
      [182.69, 116.63],
      [186.00, 118.34],
      [189.30, 120.02],
      [192.58, 121.66],
      [195.86, 123.28],
      [199.12, 124.87],
      [202.37, 126.42],
      [205.61, 127.95],
      [208.84, 129.44],
      [212.05, 130.90],
      [215.25, 132.33],
      [218.43, 133.73],
      [221.61, 135.09],
      [224.77, 136.42],
      [227.91, 137.72],
      [231.04, 138.98],
      [234.16, 140.21],
      [237.26, 141.40],
      [240.35, 142.56],
      [243.42, 143.68],
      [246.48, 144.77],
      [249.52, 145.82],
      [252.55, 146.84],
      [255.56, 147.82],
      [258.56, 148.76],
      [261.54, 149.67],
      [264.50, 150.54],
      [267.45, 151.37],
      [270.38, 152.17],
      [273.30, 152.93],
      [276.19, 153.65],
      [279.07, 154.33],
      [281.94, 154.97],
      [284.78, 155.58],
      [287.61, 156.15],
      [290.42, 156.68],
      [293.22, 157.17],
      [295.99, 157.62],
      [298.75, 158.03],
      [301.48, 158.40],
      [304.20, 158.74],
      [306.90, 159.03],
      [309.59, 159.29],
      [312.25, 159.51],
      [314.89, 159.68],
      [317.52, 159.82],
      [320.12, 159.92],
      [322.70, 159.98],
      [325.27, 160.00],
      [327.81, 159.98],
      [330.34, 159.92],
      [332.84, 159.82],
      [335.33, 159.68],
      [337.79, 159.51],
      [340.23, 159.29],
      [342.65, 159.03],
      [345.05, 158.74],
      [347.43, 158.40],
      [349.79, 158.03],
      [352.12, 157.62],
      [354.44, 157.17],
      [356.73, 156.68],
      [359.00, 156.15],
      [361.25, 155.58],
      [363.47, 154.97],
      [365.67, 154.33],
      [367.85, 153.65],
      [370.01, 152.93],
      [372.15, 152.17],
      [374.26, 151.37],
      [376.35, 150.54],
      [378.41, 149.67],
      [380.46, 148.76],
      [382.48, 147.82],
      [384.47, 146.84],
      [386.44, 145.82],
      [388.39, 144.77],
      [390.31, 143.68],
      [392.21, 142.56],
      [394.09, 141.40],
      [395.94, 140.21],
      [397.77, 138.98],
      [399.57, 137.72],
      [401.35, 136.42],
      [403.10, 135.09],
      [404.83, 133.73],
      [406.53, 132.33],
      [408.21, 130.90],
      [409.86, 129.44],
      [411.49, 127.95],
      [413.09, 126.42],
      [414.67, 124.87],
      [416.22, 123.28],
      [417.75, 121.66],
      [419.25, 120.02],
      [420.72, 118.34],
      [422.17, 116.63],
      [423.59, 114.90],
      [424.98, 113.14],
      [426.35, 111.35],
      [427.70, 109.53],
      [429.01, 107.68],
      [430.30, 105.81],
      [431.57, 103.91],
      [432.81, 101.99],
      [434.02, 100.04],
      [435.20, 98.07],
      [436.36, 96.07],
      [437.49, 94.05],
      [438.59, 92.00],
      [439.66, 89.93],
      [440.71, 87.84],
      [441.74, 85.73],
      [442.73, 83.60],
      [443.70, 81.45],
      [444.64, 79.27],
      [445.55, 77.08],
      [446.43, 74.87],
      [447.29, 72.64],
      [448.12, 70.39],
      [448.92, 68.12],
      [449.70, 65.84],
      [450.44, 63.54],
      [451.16, 61.23],
      [451.85, 58.90],
      [452.52, 56.56],
      [453.15, 54.20],
      [453.76, 51.83],
      [454.34, 49.44],
      [454.89, 47.05],
      [455.41, 44.64],
      [455.91, 42.22],
      [456.37, 39.79],
      [456.81, 37.35],
      [457.22, 34.90],
      [457.60, 32.45],
      [457.96, 29.98],
      [458.28, 27.51],
      [458.58, 25.03],
      [458.85, 22.54],
      [459.09, 20.05],
      [459.30, 17.56],
      [459.49, 15.06],
      [459.65, 12.55],
      [459.77, 10.05],
      [459.87, 7.54],
      [459.94, 5.03],
      [459.99, 2.51],
      [460.00, 0.00],
      [459.99, -2.51],
      [459.94, -5.03],
      [459.87, -7.54],
      [459.77, -10.05],
      [459.65, -12.55],
      [459.49, -15.06],
      [459.30, -17.56],
      [459.09, -20.05],
      [458.85, -22.54],
      [458.58, -25.03],
      [458.28, -27.51],
      [457.96, -29.98],
      [457.60, -32.45],
      [457.22, -34.90],
      [456.81, -37.35],
      [456.37, -39.79],
      [455.91, -42.22],
      [455.41, -44.64],
      [454.89, -47.05],
      [454.34, -49.44],
      [453.76, -51.83],
      [453.15, -54.20],
      [452.52, -56.56],
      [451.85, -58.90],
      [451.16, -61.23],
      [450.44, -63.54],
      [449.70, -65.84],
      [448.92, -68.12],
      [448.12, -70.39],
      [447.29, -72.64],
      [446.43, -74.87],
      [445.55, -77.08],
      [444.64, -79.27],
      [443.70, -81.45],
      [442.73, -83.60],
      [441.74, -85.73],
      [440.71, -87.84],
      [439.66, -89.93],
      [438.59, -92.00],
      [437.49, -94.05],
      [436.36, -96.07],
      [435.20, -98.07],
      [434.02, -100.04],
      [432.81, -101.99],
      [431.57, -103.91],
      [430.30, -105.81],
      [429.01, -107.68],
      [427.70, -109.53],
      [426.35, -111.35],
      [424.98, -113.14],
      [423.59, -114.90],
      [422.17, -116.63],
      [420.72, -118.34],
      [419.25, -120.02],
      [417.75, -121.66],
      [416.22, -123.28],
      [414.67, -124.87],
      [413.09, -126.42],
      [411.49, -127.95],
      [409.86, -129.44],
      [408.21, -130.90],
      [406.53, -132.33],
      [404.83, -133.73],
      [403.10, -135.09],
      [401.35, -136.42],
      [399.57, -137.72],
      [397.77, -138.98],
      [395.94, -140.21],
      [394.09, -141.40],
      [392.21, -142.56],
      [390.31, -143.68],
      [388.39, -144.77],
      [386.44, -145.82],
      [384.47, -146.84],
      [382.48, -147.82],
      [380.46, -148.76],
      [378.41, -149.67],
      [376.35, -150.54],
      [374.26, -151.37],
      [372.15, -152.17],
      [370.01, -152.93],
      [367.85, -153.65],
      [365.67, -154.33],
      [363.47, -154.97],
      [361.25, -155.58],
      [359.00, -156.15],
      [356.73, -156.68],
      [354.44, -157.17],
      [352.12, -157.62],
      [349.79, -158.03],
      [347.43, -158.40],
      [345.05, -158.74],
      [342.65, -159.03],
      [340.23, -159.29],
      [337.79, -159.51],
      [335.33, -159.68],
      [332.84, -159.82],
      [330.34, -159.92],
      [327.81, -159.98],
      [325.27, -160.00],
      [322.70, -159.98],
      [320.12, -159.92],
      [317.52, -159.82],
      [314.89, -159.68],
      [312.25, -159.51],
      [309.59, -159.29],
      [306.90, -159.03],
      [304.20, -158.74],
      [301.48, -158.40],
      [298.75, -158.03],
      [295.99, -157.62],
      [293.22, -157.17],
      [290.42, -156.68],
      [287.61, -156.15],
      [284.78, -155.58],
      [281.94, -154.97],
      [279.07, -154.33],
      [276.19, -153.65],
      [273.30, -152.93],
      [270.38, -152.17],
      [267.45, -151.37],
      [264.50, -150.54],
      [261.54, -149.67],
      [258.56, -148.76],
      [255.56, -147.82],
      [252.55, -146.84],
      [249.52, -145.82],
      [246.48, -144.77],
      [243.42, -143.68],
      [240.35, -142.56],
      [237.26, -141.40],
      [234.16, -140.21],
      [231.04, -138.98],
      [227.91, -137.72],
      [224.77, -136.42],
      [221.61, -135.09],
      [218.43, -133.73],
      [215.25, -132.33],
      [212.05, -130.90],
      [208.84, -129.44],
      [205.61, -127.95],
      [202.37, -126.42],
      [199.12, -124.87],
      [195.86, -123.28],
      [192.58, -121.66],
      [189.30, -120.02],
      [186.00, -118.34],
      [182.69, -116.63],
      [179.37, -114.90],
      [176.03, -113.14],
      [172.69, -111.35],
      [169.34, -109.53],
      [165.97, -107.68],
      [162.60, -105.81],
      [159.21, -103.91],
      [155.82, -101.99],
      [152.42, -100.04],
      [149.00, -98.07],
      [145.58, -96.07],
      [142.15, -94.05],
      [138.71, -92.00],
      [135.26, -89.93],
      [131.80, -87.84],
      [128.34, -85.73],
      [124.86, -83.60],
      [121.38, -81.45],
      [117.89, -79.27],
      [114.40, -77.08],
      [110.89, -74.87],
      [107.38, -72.64],
      [103.87, -70.39],
      [100.35, -68.12],
      [96.82, -65.84],
      [93.28, -63.54],
      [89.74, -61.23],
      [86.20, -58.90],
      [82.64, -56.56],
      [79.09, -54.20],
      [75.53, -51.83],
      [71.96, -49.44],
      [68.39, -47.05],
      [64.81, -44.64],
      [61.24, -42.22],
      [57.65, -39.79],
      [54.07, -37.35],
      [50.48, -34.90],
      [46.89, -32.45],
      [43.29, -29.98],
      [39.69, -27.51],
      [36.09, -25.03],
      [32.49, -22.54],
      [28.88, -20.05],
      [25.28, -17.56],
      [21.67, -15.06],
      [18.06, -12.55],
      [14.45, -10.05],
      [10.84, -7.54],
      [7.23, -5.03],
      [3.61, -2.51],
      [0.00, -0.00],
      [-3.61, 2.51],
      [-7.23, 5.03],
      [-10.84, 7.54],
      [-14.45, 10.05],
      [-18.06, 12.55],
      [-21.67, 15.06],
      [-25.28, 17.56],
      [-28.88, 20.05],
      [-32.49, 22.54],
      [-36.09, 25.03],
      [-39.69, 27.51],
      [-43.29, 29.98],
      [-46.89, 32.45],
      [-50.48, 34.90],
      [-54.07, 37.35],
      [-57.65, 39.79],
      [-61.24, 42.22],
      [-64.81, 44.64],
      [-68.39, 47.05],
      [-71.96, 49.44],
      [-75.53, 51.83],
      [-79.09, 54.20],
      [-82.64, 56.56],
      [-86.20, 58.90],
      [-89.74, 61.23],
      [-93.28, 63.54],
      [-96.82, 65.84],
      [-100.35, 68.12],
      [-103.87, 70.39],
      [-107.38, 72.64],
      [-110.89, 74.87],
      [-114.40, 77.08],
      [-117.89, 79.27],
      [-121.38, 81.45],
      [-124.86, 83.60],
      [-128.34, 85.73],
      [-131.80, 87.84],
      [-135.26, 89.93],
      [-138.71, 92.00],
      [-142.15, 94.05],
      [-145.58, 96.07],
      [-149.00, 98.07],
      [-152.42, 100.04],
      [-155.82, 101.99],
      [-159.21, 103.91],
      [-162.60, 105.81],
      [-165.97, 107.68],
      [-169.34, 109.53],
      [-172.69, 111.35],
      [-176.03, 113.14],
      [-179.37, 114.90],
      [-182.69, 116.63],
      [-186.00, 118.34],
      [-189.30, 120.02],
      [-192.58, 121.66],
      [-195.86, 123.28],
      [-199.12, 124.87],
      [-202.37, 126.42],
      [-205.61, 127.95],
      [-208.84, 129.44],
      [-212.05, 130.90],
      [-215.25, 132.33],
      [-218.43, 133.73],
      [-221.61, 135.09],
      [-224.77, 136.42],
      [-227.91, 137.72],
      [-231.04, 138.98],
      [-234.16, 140.21],
      [-237.26, 141.40],
      [-240.35, 142.56],
      [-243.42, 143.68],
      [-246.48, 144.77],
      [-249.52, 145.82],
      [-252.55, 146.84],
      [-255.56, 147.82],
      [-258.56, 148.76],
      [-261.54, 149.67],
      [-264.50, 150.54],
      [-267.45, 151.37],
      [-270.38, 152.17],
      [-273.30, 152.93],
      [-276.19, 153.65],
      [-279.07, 154.33],
      [-281.94, 154.97],
      [-284.78, 155.58],
      [-287.61, 156.15],
      [-290.42, 156.68],
      [-293.22, 157.17],
      [-295.99, 157.62],
      [-298.75, 158.03],
      [-301.48, 158.40],
      [-304.20, 158.74],
      [-306.90, 159.03],
      [-309.59, 159.29],
      [-312.25, 159.51],
      [-314.89, 159.68],
      [-317.52, 159.82],
      [-320.12, 159.92],
      [-322.70, 159.98],
      [-325.27, 160.00],
      [-327.81, 159.98],
      [-330.34, 159.92],
      [-332.84, 159.82],
      [-335.33, 159.68],
      [-337.79, 159.51],
      [-340.23, 159.29],
      [-342.65, 159.03],
      [-345.05, 158.74],
      [-347.43, 158.40],
      [-349.79, 158.03],
      [-352.12, 157.62],
      [-354.44, 157.17],
      [-356.73, 156.68],
      [-359.00, 156.15],
      [-361.25, 155.58],
      [-363.47, 154.97],
      [-365.67, 154.33],
      [-367.85, 153.65],
      [-370.01, 152.93],
      [-372.15, 152.17],
      [-374.26, 151.37],
      [-376.35, 150.54],
      [-378.41, 149.67],
      [-380.46, 148.76],
      [-382.48, 147.82],
      [-384.47, 146.84],
      [-386.44, 145.82],
      [-388.39, 144.77],
      [-390.31, 143.68],
      [-392.21, 142.56],
      [-394.09, 141.40],
      [-395.94, 140.21],
      [-397.77, 138.98],
      [-399.57, 137.72],
      [-401.35, 136.42],
      [-403.10, 135.09],
      [-404.83, 133.73],
      [-406.53, 132.33],
      [-408.21, 130.90],
      [-409.86, 129.44],
      [-411.49, 127.95],
      [-413.09, 126.42],
      [-414.67, 124.87],
      [-416.22, 123.28],
      [-417.75, 121.66],
      [-419.25, 120.02],
      [-420.72, 118.34],
      [-422.17, 116.63],
      [-423.59, 114.90],
      [-424.98, 113.14],
      [-426.35, 111.35],
      [-427.70, 109.53],
      [-429.01, 107.68],
      [-430.30, 105.81],
      [-431.57, 103.91],
      [-432.81, 101.99],
      [-434.02, 100.04],
      [-435.20, 98.07],
      [-436.36, 96.07],
      [-437.49, 94.05],
      [-438.59, 92.00],
      [-439.66, 89.93],
      [-440.71, 87.84],
      [-441.74, 85.73],
      [-442.73, 83.60],
      [-443.70, 81.45],
      [-444.64, 79.27],
      [-445.55, 77.08],
      [-446.43, 74.87],
      [-447.29, 72.64],
      [-448.12, 70.39],
      [-448.92, 68.12],
      [-449.70, 65.84],
      [-450.44, 63.54],
      [-451.16, 61.23],
      [-451.85, 58.90],
      [-452.52, 56.56],
      [-453.15, 54.20],
      [-453.76, 51.83],
      [-454.34, 49.44],
      [-454.89, 47.05],
      [-455.41, 44.64],
      [-455.91, 42.22],
      [-456.37, 39.79],
      [-456.81, 37.35],
      [-457.22, 34.90],
      [-457.60, 32.45],
      [-457.96, 29.98],
      [-458.28, 27.51],
      [-458.58, 25.03],
      [-458.85, 22.54],
      [-459.09, 20.05],
      [-459.30, 17.56],
      [-459.49, 15.06],
      [-459.65, 12.55],
      [-459.77, 10.05],
      [-459.87, 7.54],
      [-459.94, 5.03],
      [-459.99, 2.51],
      [-460.00, 0.00],
      [-459.99, -2.51],
      [-459.94, -5.03],
      [-459.87, -7.54],
      [-459.77, -10.05],
      [-459.65, -12.55],
      [-459.49, -15.06],
      [-459.30, -17.56],
      [-459.09, -20.05],
      [-458.85, -22.54],
      [-458.58, -25.03],
      [-458.28, -27.51],
      [-457.96, -29.98],
      [-457.60, -32.45],
      [-457.22, -34.90],
      [-456.81, -37.35],
      [-456.37, -39.79],
      [-455.91, -42.22],
      [-455.41, -44.64],
      [-454.89, -47.05],
      [-454.34, -49.44],
      [-453.76, -51.83],
      [-453.15, -54.20],
      [-452.52, -56.56],
      [-451.85, -58.90],
      [-451.16, -61.23],
      [-450.44, -63.54],
      [-449.70, -65.84],
      [-448.92, -68.12],
      [-448.12, -70.39],
      [-447.29, -72.64],
      [-446.43, -74.87],
      [-445.55, -77.08],
      [-444.64, -79.27],
      [-443.70, -81.45],
      [-442.73, -83.60],
      [-441.74, -85.73],
      [-440.71, -87.84],
      [-439.66, -89.93],
      [-438.59, -92.00],
      [-437.49, -94.05],
      [-436.36, -96.07],
      [-435.20, -98.07],
      [-434.02, -100.04],
      [-432.81, -101.99],
      [-431.57, -103.91],
      [-430.30, -105.81],
      [-429.01, -107.68],
      [-427.70, -109.53],
      [-426.35, -111.35],
      [-424.98, -113.14],
      [-423.59, -114.90],
      [-422.17, -116.63],
      [-420.72, -118.34],
      [-419.25, -120.02],
      [-417.75, -121.66],
      [-416.22, -123.28],
      [-414.67, -124.87],
      [-413.09, -126.42],
      [-411.49, -127.95],
      [-409.86, -129.44],
      [-408.21, -130.90],
      [-406.53, -132.33],
      [-404.83, -133.73],
      [-403.10, -135.09],
      [-401.35, -136.42],
      [-399.57, -137.72],
      [-397.77, -138.98],
      [-395.94, -140.21],
      [-394.09, -141.40],
      [-392.21, -142.56],
      [-390.31, -143.68],
      [-388.39, -144.77],
      [-386.44, -145.82],
      [-384.47, -146.84],
      [-382.48, -147.82],
      [-380.46, -148.76],
      [-378.41, -149.67],
      [-376.35, -150.54],
      [-374.26, -151.37],
      [-372.15, -152.17],
      [-370.01, -152.93],
      [-367.85, -153.65],
      [-365.67, -154.33],
      [-363.47, -154.97],
      [-361.25, -155.58],
      [-359.00, -156.15],
      [-356.73, -156.68],
      [-354.44, -157.17],
      [-352.12, -157.62],
      [-349.79, -158.03],
      [-347.43, -158.40],
      [-345.05, -158.74],
      [-342.65, -159.03],
      [-340.23, -159.29],
      [-337.79, -159.51],
      [-335.33, -159.68],
      [-332.84, -159.82],
      [-330.34, -159.92],
      [-327.81, -159.98],
      [-325.27, -160.00],
      [-322.70, -159.98],
      [-320.12, -159.92],
      [-317.52, -159.82],
      [-314.89, -159.68],
      [-312.25, -159.51],
      [-309.59, -159.29],
      [-306.90, -159.03],
      [-304.20, -158.74],
      [-301.48, -158.40],
      [-298.75, -158.03],
      [-295.99, -157.62],
      [-293.22, -157.17],
      [-290.42, -156.68],
      [-287.61, -156.15],
      [-284.78, -155.58],
      [-281.94, -154.97],
      [-279.07, -154.33],
      [-276.19, -153.65],
      [-273.30, -152.93],
      [-270.38, -152.17],
      [-267.45, -151.37],
      [-264.50, -150.54],
      [-261.54, -149.67],
      [-258.56, -148.76],
      [-255.56, -147.82],
      [-252.55, -146.84],
      [-249.52, -145.82],
      [-246.48, -144.77],
      [-243.42, -143.68],
      [-240.35, -142.56],
      [-237.26, -141.40],
      [-234.16, -140.21],
      [-231.04, -138.98],
      [-227.91, -137.72],
      [-224.77, -136.42],
      [-221.61, -135.09],
      [-218.43, -133.73],
      [-215.25, -132.33],
      [-212.05, -130.90],
      [-208.84, -129.44],
      [-205.61, -127.95],
      [-202.37, -126.42],
      [-199.12, -124.87],
      [-195.86, -123.28],
      [-192.58, -121.66],
      [-189.30, -120.02],
      [-186.00, -118.34],
      [-182.69, -116.63],
      [-179.37, -114.90],
      [-176.03, -113.14],
      [-172.69, -111.35],
      [-169.34, -109.53],
      [-165.97, -107.68],
      [-162.60, -105.81],
      [-159.21, -103.91],
      [-155.82, -101.99],
      [-152.42, -100.04],
      [-149.00, -98.07],
      [-145.58, -96.07],
      [-142.15, -94.05],
      [-138.71, -92.00],
      [-135.26, -89.93],
      [-131.80, -87.84],
      [-128.34, -85.73],
      [-124.86, -83.60],
      [-121.38, -81.45],
      [-117.89, -79.27],
      [-114.40, -77.08],
      [-110.89, -74.87],
      [-107.38, -72.64],
      [-103.87, -70.39],
      [-100.35, -68.12],
      [-96.82, -65.84],
      [-93.28, -63.54],
      [-89.74, -61.23],
      [-86.20, -58.90],
      [-82.64, -56.56],
      [-79.09, -54.20],
      [-75.53, -51.83],
      [-71.96, -49.44],
      [-68.39, -47.05],
      [-64.81, -44.64],
      [-61.24, -42.22],
      [-57.65, -39.79],
      [-54.07, -37.35],
      [-50.48, -34.90],
      [-46.89, -32.45],
      [-43.29, -29.98],
      [-39.69, -27.51],
      [-36.09, -25.03],
      [-32.49, -22.54],
      [-28.88, -20.05],
      [-25.28, -17.56],
      [-21.67, -15.06],
      [-18.06, -12.55],
      [-14.45, -10.05],
      [-10.84, -7.54],
      [-7.23, -5.03],
      [-3.61, -2.51],
      ],
      obstacles: [{"t": "circle", "x": 0, "y": 0, "r": 70}, {"t": "rect", "x": -260, "y": 0, "w": 80, "h": 260}, {"t": "rect", "x": 260, "y": 0, "w": 80, "h": 260}],
    },
    "slalom": {
      key: "slalom",
      name: "\u0421\u043b\u0430\u043b\u043e\u043c",
      lineWidth: 36,
      points: [
      [-600.00, 0.00],
      [-598.50, 8.81],
      [-597.00, 17.60],
      [-595.49, 26.38],
      [-593.99, 35.14],
      [-592.49, 43.86],
      [-590.99, 52.53],
      [-589.49, 61.16],
      [-587.98, 69.72],
      [-586.48, 78.21],
      [-584.98, 86.63],
      [-583.48, 94.96],
      [-581.98, 103.20],
      [-580.48, 111.33],
      [-578.97, 119.36],
      [-577.47, 127.26],
      [-575.97, 135.05],
      [-574.47, 142.69],
      [-572.97, 150.20],
      [-571.46, 157.56],
      [-569.96, 164.76],
      [-568.46, 171.80],
      [-566.96, 178.67],
      [-565.46, 185.36],
      [-563.95, 191.87],
      [-562.45, 198.18],
      [-560.95, 204.31],
      [-559.45, 210.23],
      [-557.95, 215.94],
      [-556.45, 221.44],
      [-554.94, 226.72],
      [-553.44, 231.77],
      [-551.94, 236.60],
      [-550.44, 241.19],
      [-548.94, 245.55],
      [-547.43, 249.66],
      [-545.93, 253.52],
      [-544.43, 257.13],
      [-542.93, 260.49],
      [-541.43, 263.59],
      [-539.92, 266.43],
      [-538.42, 269.01],
      [-536.92, 271.32],
      [-535.42, 273.36],
      [-533.92, 275.13],
      [-532.42, 276.63],
      [-530.91, 277.86],
      [-529.41, 278.81],
      [-527.91, 279.48],
      [-526.41, 279.88],
      [-524.91, 280.00],
      [-523.40, 279.84],
      [-521.90, 279.41],
      [-520.40, 278.70],
      [-518.90, 277.72],
      [-517.40, 276.46],
      [-515.89, 274.92],
      [-514.39, 273.12],
      [-512.89, 271.04],
      [-511.39, 268.70],
      [-509.89, 266.09],
      [-508.39, 263.22],
      [-506.88, 260.09],
      [-505.38, 256.70],
      [-503.88, 253.05],
      [-502.38, 249.16],
      [-500.88, 245.01],
      [-499.37, 240.63],
      [-497.87, 236.01],
      [-496.37, 231.15],
      [-494.87, 226.07],
      [-493.37, 220.76],
      [-491.86, 215.24],
      [-490.36, 209.50],
      [-488.86, 203.55],
      [-487.36, 197.41],
      [-485.86, 191.06],
      [-484.36, 184.53],
      [-482.85, 177.82],
      [-481.35, 170.93],
      [-479.85, 163.87],
      [-478.35, 156.64],
      [-476.85, 149.27],
      [-475.34, 141.74],
      [-473.84, 134.08],
      [-472.34, 126.28],
      [-470.84, 118.36],
      [-469.34, 110.32],
      [-467.83, 102.17],
      [-466.33, 93.92],
      [-464.83, 85.58],
      [-463.33, 77.15],
      [-461.83, 68.65],
      [-460.33, 60.08],
      [-458.82, 51.45],
      [-457.32, 42.77],
      [-455.82, 34.04],
      [-454.32, 25.29],
      [-452.82, 16.50],
      [-451.31, 7.71],
      [-449.81, -1.10],
      [-448.31, -9.91],
      [-446.81, -18.70],
      [-445.31, -27.48],
      [-443.80, -36.23],
      [-442.30, -44.94],
      [-440.80, -53.61],
      [-439.30, -62.23],
      [-437.80, -70.78],
      [-436.30, -79.27],
      [-434.79, -87.68],
      [-433.29, -96.00],
      [-431.79, -104.22],
      [-430.29, -112.34],
      [-428.79, -120.35],
      [-427.28, -128.24],
      [-425.78, -136.01],
      [-424.28, -143.64],
      [-422.78, -151.13],
      [-421.28, -158.47],
      [-419.77, -165.65],
      [-418.27, -172.66],
      [-416.77, -179.51],
      [-415.27, -186.18],
      [-413.77, -192.67],
      [-412.27, -198.96],
      [-410.76, -205.06],
      [-409.26, -210.95],
      [-407.76, -216.64],
      [-406.26, -222.11],
      [-404.76, -227.36],
      [-403.25, -232.39],
      [-401.75, -237.19],
      [-400.25, -241.75],
      [-398.75, -246.07],
      [-397.25, -250.15],
      [-395.74, -253.99],
      [-394.24, -257.57],
      [-392.74, -260.89],
      [-391.24, -263.96],
      [-389.74, -266.77],
      [-388.24, -269.31],
      [-386.73, -271.59],
      [-385.23, -273.60],
      [-383.73, -275.33],
      [-382.23, -276.80],
      [-380.73, -277.99],
      [-379.22, -278.90],
      [-377.72, -279.55],
      [-376.22, -279.91],
      [-374.72, -280.00],
      [-373.22, -279.80],
      [-371.71, -279.34],
      [-370.21, -278.59],
      [-368.71, -277.57],
      [-367.21, -276.28],
      [-365.71, -274.71],
      [-364.21, -272.87],
      [-362.70, -270.77],
      [-361.20, -268.39],
      [-359.70, -265.75],
      [-358.20, -262.84],
      [-356.70, -259.68],
      [-355.19, -256.25],
      [-353.69, -252.58],
      [-352.19, -248.65],
      [-350.69, -244.48],
      [-349.19, -240.07],
      [-347.68, -235.42],
      [-346.18, -230.53],
      [-344.68, -225.42],
      [-343.18, -220.08],
      [-341.68, -214.53],
      [-340.18, -208.77],
      [-338.67, -202.80],
      [-337.17, -196.62],
      [-335.67, -190.26],
      [-334.17, -183.70],
      [-332.67, -176.96],
      [-331.16, -170.05],
      [-329.66, -162.97],
      [-328.16, -155.73],
      [-326.66, -148.34],
      [-325.16, -140.79],
      [-323.65, -133.11],
      [-322.15, -125.30],
      [-320.65, -117.36],
      [-319.15, -109.31],
      [-317.65, -101.15],
      [-316.15, -92.89],
      [-314.64, -84.53],
      [-313.14, -76.10],
      [-311.64, -67.58],
      [-310.14, -59.00],
      [-308.64, -50.37],
      [-307.13, -41.68],
      [-305.63, -32.95],
      [-304.13, -24.19],
      [-302.63, -15.41],
      [-301.13, -6.60],
      [-299.62, 2.20],
      [-298.12, 11.01],
      [-296.62, 19.80],
      [-295.12, 28.57],
      [-293.62, 37.32],
      [-292.12, 46.03],
      [-290.61, 54.69],
      [-289.11, 63.30],
      [-287.61, 71.85],
      [-286.11, 80.32],
      [-284.61, 88.72],
      [-283.10, 97.03],
      [-281.60, 105.24],
      [-280.10, 113.35],
      [-278.60, 121.35],
      [-277.10, 129.22],
      [-275.59, 136.97],
      [-274.09, 144.58],
      [-272.59, 152.05],
      [-271.09, 159.37],
      [-269.59, 166.53],
      [-268.09, 173.53],
      [-266.58, 180.36],
      [-265.08, 187.00],
      [-263.58, 193.46],
      [-262.08, 199.73],
      [-260.58, 205.81],
      [-259.07, 211.68],
      [-257.57, 217.34],
      [-256.07, 222.78],
      [-254.57, 228.00],
      [-253.07, 233.00],
      [-251.56, 237.77],
      [-250.06, 242.30],
      [-248.56, 246.60],
      [-247.06, 250.65],
      [-245.56, 254.45],
      [-244.06, 258.00],
      [-242.55, 261.29],
      [-241.05, 264.33],
      [-239.55, 267.10],
      [-238.05, 269.61],
      [-236.55, 271.85],
      [-235.04, 273.83],
      [-233.54, 275.53],
      [-232.04, 276.96],
      [-230.54, 278.12],
      [-229.04, 279.00],
      [-227.53, 279.61],
      [-226.03, 279.93],
      [-224.53, 279.99],
      [-223.03, 279.76],
      [-221.53, 279.26],
      [-220.03, 278.48],
      [-218.52, 277.43],
      [-217.02, 276.10],
      [-215.52, 274.50],
      [-214.02, 272.63],
      [-212.52, 270.48],
      [-211.01, 268.07],
      [-209.51, 265.40],
      [-208.01, 262.46],
      [-206.51, 259.26],
      [-205.01, 255.81],
      [-203.50, 252.10],
      [-202.00, 248.14],
      [-200.50, 243.94],
      [-199.00, 239.50],
      [-197.50, 234.82],
      [-195.99, 229.91],
      [-194.49, 224.76],
      [-192.99, 219.40],
      [-191.49, 213.82],
      [-189.99, 208.03],
      [-188.49, 202.03],
      [-186.98, 195.84],
      [-185.48, 189.45],
      [-183.98, 182.87],
      [-182.48, 176.11],
      [-180.98, 169.18],
      [-179.47, 162.08],
      [-177.97, 154.82],
      [-176.47, 147.40],
      [-174.97, 139.84],
      [-173.47, 132.14],
      [-171.96, 124.31],
      [-170.46, 116.36],
      [-168.96, 108.29],
      [-167.46, 100.12],
      [-165.96, 91.85],
      [-164.46, 83.48],
      [-162.95, 75.04],
      [-161.45, 66.51],
      [-159.95, 57.93],
      [-158.45, 49.28],
      [-156.95, 40.59],
      [-155.44, 31.86],
      [-153.94, 23.09],
      [-152.44, 14.31],
      [-150.94, 5.50],
      [-149.44, -3.30],
      [-147.93, -12.11],
      [-146.43, -20.90],
      [-144.93, -29.67],
      [-143.43, -38.41],
      [-141.93, -47.11],
      [-140.43, -55.77],
      [-138.92, -64.37],
      [-137.42, -72.91],
      [-135.92, -81.38],
      [-134.42, -89.76],
      [-132.92, -98.06],
      [-131.41, -106.26],
      [-129.91, -114.36],
      [-128.41, -122.34],
      [-126.91, -130.20],
      [-125.41, -137.93],
      [-123.90, -145.52],
      [-122.40, -152.98],
      [-120.90, -160.28],
      [-119.40, -167.42],
      [-117.90, -174.39],
      [-116.40, -181.20],
      [-114.89, -187.82],
      [-113.39, -194.26],
      [-111.89, -200.50],
      [-110.39, -206.55],
      [-108.89, -212.39],
      [-107.38, -218.03],
      [-105.88, -223.44],
      [-104.38, -228.64],
      [-102.88, -233.61],
      [-101.38, -238.35],
      [-99.87, -242.85],
      [-98.37, -247.12],
      [-96.87, -251.13],
      [-95.37, -254.90],
      [-93.87, -258.42],
      [-92.37, -261.68],
      [-90.86, -264.69],
      [-89.36, -267.43],
      [-87.86, -269.91],
      [-86.36, -272.12],
      [-84.86, -274.06],
      [-83.35, -275.72],
      [-81.85, -277.12],
      [-80.35, -278.24],
      [-78.85, -279.09],
      [-77.35, -279.66],
      [-75.84, -279.96],
      [-74.34, -279.97],
      [-72.84, -279.71],
      [-71.34, -279.18],
      [-69.84, -278.36],
      [-68.34, -277.28],
      [-66.83, -275.91],
      [-65.33, -274.28],
      [-63.83, -272.37],
      [-62.33, -270.20],
      [-60.83, -267.75],
      [-59.32, -265.04],
      [-57.82, -262.07],
      [-56.32, -258.84],
      [-54.82, -255.36],
      [-53.32, -251.62],
      [-51.81, -247.63],
      [-50.31, -243.40],
      [-48.81, -238.93],
      [-47.31, -234.22],
      [-45.81, -229.27],
      [-44.31, -224.11],
      [-42.80, -218.72],
      [-41.30, -213.11],
      [-39.80, -207.29],
      [-38.30, -201.27],
      [-36.80, -195.05],
      [-35.29, -188.63],
      [-33.79, -182.03],
      [-32.29, -175.25],
      [-30.79, -168.30],
      [-29.29, -161.18],
      [-27.78, -153.90],
      [-26.28, -146.46],
      [-24.78, -138.89],
      [-23.28, -131.17],
      [-21.78, -123.33],
      [-20.28, -115.36],
      [-18.77, -107.28],
      [-17.27, -99.09],
      [-15.77, -90.81],
      [-14.27, -82.43],
      [-12.77, -73.97],
      [-11.26, -65.44],
      [-9.76, -56.85],
      [-8.26, -48.20],
      [-6.76, -39.50],
      [-5.26, -30.76],
      [-3.75, -22.00],
      [-2.25, -13.21],
      [-0.75, -4.40],
      [0.75, 4.40],
      [2.25, 13.21],
      [3.75, 22.00],
      [5.26, 30.76],
      [6.76, 39.50],
      [8.26, 48.20],
      [9.76, 56.85],
      [11.26, 65.44],
      [12.77, 73.97],
      [14.27, 82.43],
      [15.77, 90.81],
      [17.27, 99.09],
      [18.77, 107.28],
      [20.28, 115.36],
      [21.78, 123.33],
      [23.28, 131.17],
      [24.78, 138.89],
      [26.28, 146.46],
      [27.78, 153.90],
      [29.29, 161.18],
      [30.79, 168.30],
      [32.29, 175.25],
      [33.79, 182.03],
      [35.29, 188.63],
      [36.80, 195.05],
      [38.30, 201.27],
      [39.80, 207.29],
      [41.30, 213.11],
      [42.80, 218.72],
      [44.31, 224.11],
      [45.81, 229.27],
      [47.31, 234.22],
      [48.81, 238.93],
      [50.31, 243.40],
      [51.81, 247.63],
      [53.32, 251.62],
      [54.82, 255.36],
      [56.32, 258.84],
      [57.82, 262.07],
      [59.32, 265.04],
      [60.83, 267.75],
      [62.33, 270.20],
      [63.83, 272.37],
      [65.33, 274.28],
      [66.83, 275.91],
      [68.34, 277.28],
      [69.84, 278.36],
      [71.34, 279.18],
      [72.84, 279.71],
      [74.34, 279.97],
      [75.84, 279.96],
      [77.35, 279.66],
      [78.85, 279.09],
      [80.35, 278.24],
      [81.85, 277.12],
      [83.35, 275.72],
      [84.86, 274.06],
      [86.36, 272.12],
      [87.86, 269.91],
      [89.36, 267.43],
      [90.86, 264.69],
      [92.37, 261.68],
      [93.87, 258.42],
      [95.37, 254.90],
      [96.87, 251.13],
      [98.37, 247.12],
      [99.87, 242.85],
      [101.38, 238.35],
      [102.88, 233.61],
      [104.38, 228.64],
      [105.88, 223.44],
      [107.38, 218.03],
      [108.89, 212.39],
      [110.39, 206.55],
      [111.89, 200.50],
      [113.39, 194.26],
      [114.89, 187.82],
      [116.40, 181.20],
      [117.90, 174.39],
      [119.40, 167.42],
      [120.90, 160.28],
      [122.40, 152.98],
      [123.90, 145.52],
      [125.41, 137.93],
      [126.91, 130.20],
      [128.41, 122.34],
      [129.91, 114.36],
      [131.41, 106.26],
      [132.92, 98.06],
      [134.42, 89.76],
      [135.92, 81.38],
      [137.42, 72.91],
      [138.92, 64.37],
      [140.43, 55.77],
      [141.93, 47.11],
      [143.43, 38.41],
      [144.93, 29.67],
      [146.43, 20.90],
      [147.93, 12.11],
      [149.44, 3.30],
      [150.94, -5.50],
      [152.44, -14.31],
      [153.94, -23.09],
      [155.44, -31.86],
      [156.95, -40.59],
      [158.45, -49.28],
      [159.95, -57.93],
      [161.45, -66.51],
      [162.95, -75.04],
      [164.46, -83.48],
      [165.96, -91.85],
      [167.46, -100.12],
      [168.96, -108.29],
      [170.46, -116.36],
      [171.96, -124.31],
      [173.47, -132.14],
      [174.97, -139.84],
      [176.47, -147.40],
      [177.97, -154.82],
      [179.47, -162.08],
      [180.98, -169.18],
      [182.48, -176.11],
      [183.98, -182.87],
      [185.48, -189.45],
      [186.98, -195.84],
      [188.49, -202.03],
      [189.99, -208.03],
      [191.49, -213.82],
      [192.99, -219.40],
      [194.49, -224.76],
      [195.99, -229.91],
      [197.50, -234.82],
      [199.00, -239.50],
      [200.50, -243.94],
      [202.00, -248.14],
      [203.50, -252.10],
      [205.01, -255.81],
      [206.51, -259.26],
      [208.01, -262.46],
      [209.51, -265.40],
      [211.01, -268.07],
      [212.52, -270.48],
      [214.02, -272.63],
      [215.52, -274.50],
      [217.02, -276.10],
      [218.52, -277.43],
      [220.03, -278.48],
      [221.53, -279.26],
      [223.03, -279.76],
      [224.53, -279.99],
      [226.03, -279.93],
      [227.53, -279.61],
      [229.04, -279.00],
      [230.54, -278.12],
      [232.04, -276.96],
      [233.54, -275.53],
      [235.04, -273.83],
      [236.55, -271.85],
      [238.05, -269.61],
      [239.55, -267.10],
      [241.05, -264.33],
      [242.55, -261.29],
      [244.06, -258.00],
      [245.56, -254.45],
      [247.06, -250.65],
      [248.56, -246.60],
      [250.06, -242.30],
      [251.56, -237.77],
      [253.07, -233.00],
      [254.57, -228.00],
      [256.07, -222.78],
      [257.57, -217.34],
      [259.07, -211.68],
      [260.58, -205.81],
      [262.08, -199.73],
      [263.58, -193.46],
      [265.08, -187.00],
      [266.58, -180.36],
      [268.09, -173.53],
      [269.59, -166.53],
      [271.09, -159.37],
      [272.59, -152.05],
      [274.09, -144.58],
      [275.59, -136.97],
      [277.10, -129.22],
      [278.60, -121.35],
      [280.10, -113.35],
      [281.60, -105.24],
      [283.10, -97.03],
      [284.61, -88.72],
      [286.11, -80.32],
      [287.61, -71.85],
      [289.11, -63.30],
      [290.61, -54.69],
      [292.12, -46.03],
      [293.62, -37.32],
      [295.12, -28.57],
      [296.62, -19.80],
      [298.12, -11.01],
      [299.62, -2.20],
      [301.13, 6.60],
      [302.63, 15.41],
      [304.13, 24.19],
      [305.63, 32.95],
      [307.13, 41.68],
      [308.64, 50.37],
      [310.14, 59.00],
      [311.64, 67.58],
      [313.14, 76.10],
      [314.64, 84.53],
      [316.15, 92.89],
      [317.65, 101.15],
      [319.15, 109.31],
      [320.65, 117.36],
      [322.15, 125.30],
      [323.65, 133.11],
      [325.16, 140.79],
      [326.66, 148.34],
      [328.16, 155.73],
      [329.66, 162.97],
      [331.16, 170.05],
      [332.67, 176.96],
      [334.17, 183.70],
      [335.67, 190.26],
      [337.17, 196.62],
      [338.67, 202.80],
      [340.18, 208.77],
      [341.68, 214.53],
      [343.18, 220.08],
      [344.68, 225.42],
      [346.18, 230.53],
      [347.68, 235.42],
      [349.19, 240.07],
      [350.69, 244.48],
      [352.19, 248.65],
      [353.69, 252.58],
      [355.19, 256.25],
      [356.70, 259.68],
      [358.20, 262.84],
      [359.70, 265.75],
      [361.20, 268.39],
      [362.70, 270.77],
      [364.21, 272.87],
      [365.71, 274.71],
      [367.21, 276.28],
      [368.71, 277.57],
      [370.21, 278.59],
      [371.71, 279.34],
      [373.22, 279.80],
      [374.72, 280.00],
      [376.22, 279.91],
      [377.72, 279.55],
      [379.22, 278.90],
      [380.73, 277.99],
      [382.23, 276.80],
      [383.73, 275.33],
      [385.23, 273.60],
      [386.73, 271.59],
      [388.24, 269.31],
      [389.74, 266.77],
      [391.24, 263.96],
      [392.74, 260.89],
      [394.24, 257.57],
      [395.74, 253.99],
      [397.25, 250.15],
      [398.75, 246.07],
      [400.25, 241.75],
      [401.75, 237.19],
      [403.25, 232.39],
      [404.76, 227.36],
      [406.26, 222.11],
      [407.76, 216.64],
      [409.26, 210.95],
      [410.76, 205.06],
      [412.27, 198.96],
      [413.77, 192.67],
      [415.27, 186.18],
      [416.77, 179.51],
      [418.27, 172.66],
      [419.77, 165.65],
      [421.28, 158.47],
      [422.78, 151.13],
      [424.28, 143.64],
      [425.78, 136.01],
      [427.28, 128.24],
      [428.79, 120.35],
      [430.29, 112.34],
      [431.79, 104.22],
      [433.29, 96.00],
      [434.79, 87.68],
      [436.30, 79.27],
      [437.80, 70.78],
      [439.30, 62.23],
      [440.80, 53.61],
      [442.30, 44.94],
      [443.80, 36.23],
      [445.31, 27.48],
      [446.81, 18.70],
      [448.31, 9.91],
      [449.81, 1.10],
      [451.31, -7.71],
      [452.82, -16.50],
      [454.32, -25.29],
      [455.82, -34.04],
      [457.32, -42.77],
      [458.82, -51.45],
      [460.33, -60.08],
      [461.83, -68.65],
      [463.33, -77.15],
      [464.83, -85.58],
      [466.33, -93.92],
      [467.83, -102.17],
      [469.34, -110.32],
      [470.84, -118.36],
      [472.34, -126.28],
      [473.84, -134.08],
      [475.34, -141.74],
      [476.85, -149.27],
      [478.35, -156.64],
      [479.85, -163.87],
      [481.35, -170.93],
      [482.85, -177.82],
      [484.36, -184.53],
      [485.86, -191.06],
      [487.36, -197.41],
      [488.86, -203.55],
      [490.36, -209.50],
      [491.86, -215.24],
      [493.37, -220.76],
      [494.87, -226.07],
      [496.37, -231.15],
      [497.87, -236.01],
      [499.37, -240.63],
      [500.88, -245.01],
      [502.38, -249.16],
      [503.88, -253.05],
      [505.38, -256.70],
      [506.88, -260.09],
      [508.39, -263.22],
      [509.89, -266.09],
      [511.39, -268.70],
      [512.89, -271.04],
      [514.39, -273.12],
      [515.89, -274.92],
      [517.40, -276.46],
      [518.90, -277.72],
      [520.40, -278.70],
      [521.90, -279.41],
      [523.40, -279.84],
      [524.91, -280.00],
      [526.41, -279.88],
      [527.91, -279.48],
      [529.41, -278.81],
      [530.91, -277.86],
      [532.42, -276.63],
      [533.92, -275.13],
      [535.42, -273.36],
      [536.92, -271.32],
      [538.42, -269.01],
      [539.92, -266.43],
      [541.43, -263.59],
      [542.93, -260.49],
      [544.43, -257.13],
      [545.93, -253.52],
      [547.43, -249.66],
      [548.94, -245.55],
      [550.44, -241.19],
      [551.94, -236.60],
      [553.44, -231.77],
      [554.94, -226.72],
      [556.45, -221.44],
      [557.95, -215.94],
      [559.45, -210.23],
      [560.95, -204.31],
      [562.45, -198.18],
      [563.95, -191.87],
      [565.46, -185.36],
      [566.96, -178.67],
      [568.46, -171.80],
      [569.96, -164.76],
      [571.46, -157.56],
      [572.97, -150.20],
      [574.47, -142.69],
      [575.97, -135.05],
      [577.47, -127.26],
      [578.97, -119.36],
      [580.48, -111.33],
      [581.98, -103.20],
      [583.48, -94.96],
      [584.98, -86.63],
      [586.48, -78.21],
      [587.98, -69.72],
      [589.49, -61.16],
      [590.99, -52.53],
      [592.49, -43.86],
      [593.99, -35.14],
      [595.49, -26.38],
      [597.00, -17.60],
      [598.50, -8.81],
      [600.00, -0.00],
      ],
      obstacles: [{"t": "circle", "x": -420, "y": 0, "r": 40}, {"t": "circle", "x": -200, "y": 180, "r": 40}, {"t": "circle", "x": 0, "y": -180, "r": 40}, {"t": "circle", "x": 200, "y": 180, "r": 40}, {"t": "circle", "x": 420, "y": 0, "r": 40}],
    },
    "box": {
      key: "box",
      name: "\u041a\u0432\u0430\u0434\u0440\u0430\u0442",
      lineWidth: 40,
      points: [
      [-405.00, -325.00],
      [-401.01, -325.00],
      [-397.02, -325.00],
      [-393.02, -325.00],
      [-389.03, -325.00],
      [-385.04, -325.00],
      [-381.05, -325.00],
      [-377.05, -325.00],
      [-373.06, -325.00],
      [-369.07, -325.00],
      [-365.08, -325.00],
      [-361.08, -325.00],
      [-357.09, -325.00],
      [-353.10, -325.00],
      [-349.11, -325.00],
      [-345.11, -325.00],
      [-341.12, -325.00],
      [-337.13, -325.00],
      [-333.14, -325.00],
      [-329.14, -325.00],
      [-325.15, -325.00],
      [-321.16, -325.00],
      [-317.17, -325.00],
      [-313.17, -325.00],
      [-309.18, -325.00],
      [-305.19, -325.00],
      [-301.20, -325.00],
      [-297.20, -325.00],
      [-293.21, -325.00],
      [-289.22, -325.00],
      [-285.23, -325.00],
      [-281.23, -325.00],
      [-277.24, -325.00],
      [-273.25, -325.00],
      [-269.26, -325.00],
      [-265.26, -325.00],
      [-261.27, -325.00],
      [-257.28, -325.00],
      [-253.29, -325.00],
      [-249.29, -325.00],
      [-245.30, -325.00],
      [-241.31, -325.00],
      [-237.32, -325.00],
      [-233.32, -325.00],
      [-229.33, -325.00],
      [-225.34, -325.00],
      [-221.35, -325.00],
      [-217.35, -325.00],
      [-213.36, -325.00],
      [-209.37, -325.00],
      [-205.38, -325.00],
      [-201.38, -325.00],
      [-197.39, -325.00],
      [-193.40, -325.00],
      [-189.41, -325.00],
      [-185.41, -325.00],
      [-181.42, -325.00],
      [-177.43, -325.00],
      [-173.44, -325.00],
      [-169.44, -325.00],
      [-165.45, -325.00],
      [-161.46, -325.00],
      [-157.47, -325.00],
      [-153.47, -325.00],
      [-149.48, -325.00],
      [-145.49, -325.00],
      [-141.50, -325.00],
      [-137.50, -325.00],
      [-133.51, -325.00],
      [-129.52, -325.00],
      [-125.53, -325.00],
      [-121.53, -325.00],
      [-117.54, -325.00],
      [-113.55, -325.00],
      [-109.56, -325.00],
      [-105.56, -325.00],
      [-101.57, -325.00],
      [-97.58, -325.00],
      [-93.59, -325.00],
      [-89.59, -325.00],
      [-85.60, -325.00],
      [-81.61, -325.00],
      [-77.62, -325.00],
      [-73.62, -325.00],
      [-69.63, -325.00],
      [-65.64, -325.00],
      [-61.65, -325.00],
      [-57.65, -325.00],
      [-53.66, -325.00],
      [-49.67, -325.00],
      [-45.68, -325.00],
      [-41.68, -325.00],
      [-37.69, -325.00],
      [-33.70, -325.00],
      [-29.71, -325.00],
      [-25.71, -325.00],
      [-21.72, -325.00],
      [-17.73, -325.00],
      [-13.74, -325.00],
      [-9.74, -325.00],
      [-5.75, -325.00],
      [-1.76, -325.00],
      [2.23, -325.00],
      [6.23, -325.00],
      [10.22, -325.00],
      [14.21, -325.00],
      [18.20, -325.00],
      [22.20, -325.00],
      [26.19, -325.00],
      [30.18, -325.00],
      [34.17, -325.00],
      [38.17, -325.00],
      [42.16, -325.00],
      [46.15, -325.00],
      [50.14, -325.00],
      [54.13, -325.00],
      [58.13, -325.00],
      [62.12, -325.00],
      [66.11, -325.00],
      [70.10, -325.00],
      [74.10, -325.00],
      [78.09, -325.00],
      [82.08, -325.00],
      [86.07, -325.00],
      [90.07, -325.00],
      [94.06, -325.00],
      [98.05, -325.00],
      [102.04, -325.00],
      [106.04, -325.00],
      [110.03, -325.00],
      [114.02, -325.00],
      [118.01, -325.00],
      [122.01, -325.00],
      [126.00, -325.00],
      [129.99, -325.00],
      [133.98, -325.00],
      [137.98, -325.00],
      [141.97, -325.00],
      [145.96, -325.00],
      [149.95, -325.00],
      [153.95, -325.00],
      [157.94, -325.00],
      [161.93, -325.00],
      [165.92, -325.00],
      [169.92, -325.00],
      [173.91, -325.00],
      [177.90, -325.00],
      [181.89, -325.00],
      [185.89, -325.00],
      [189.88, -325.00],
      [193.87, -325.00],
      [197.86, -325.00],
      [201.86, -325.00],
      [205.85, -325.00],
      [209.84, -325.00],
      [213.83, -325.00],
      [217.83, -325.00],
      [221.82, -325.00],
      [225.81, -325.00],
      [229.80, -325.00],
      [233.80, -325.00],
      [237.79, -325.00],
      [241.78, -325.00],
      [245.77, -325.00],
      [249.77, -325.00],
      [253.76, -325.00],
      [257.75, -325.00],
      [261.74, -325.00],
      [265.74, -325.00],
      [269.73, -325.00],
      [273.72, -325.00],
      [277.71, -325.00],
      [281.71, -325.00],
      [285.70, -325.00],
      [289.69, -325.00],
      [293.68, -325.00],
      [297.68, -325.00],
      [301.67, -325.00],
      [305.66, -325.00],
      [309.65, -325.00],
      [313.65, -325.00],
      [317.64, -325.00],
      [321.63, -325.00],
      [325.62, -325.00],
      [329.62, -325.00],
      [333.61, -325.00],
      [337.60, -325.00],
      [341.59, -325.00],
      [345.59, -325.00],
      [349.58, -325.00],
      [353.57, -325.00],
      [357.56, -325.00],
      [361.56, -325.00],
      [365.55, -325.00],
      [369.54, -325.00],
      [373.53, -325.00],
      [377.53, -325.00],
      [381.52, -325.00],
      [385.51, -325.00],
      [389.50, -325.00],
      [393.50, -325.00],
      [397.49, -325.00],
      [401.48, -325.00],
      [405.47, -325.00],
      [409.46, -324.92],
      [413.45, -324.70],
      [417.43, -324.35],
      [421.39, -323.88],
      [425.34, -323.26],
      [429.26, -322.52],
      [433.16, -321.65],
      [437.02, -320.65],
      [440.85, -319.52],
      [444.64, -318.26],
      [448.38, -316.88],
      [452.08, -315.38],
      [455.73, -313.75],
      [459.32, -312.00],
      [462.85, -310.14],
      [466.31, -308.15],
      [469.71, -306.06],
      [473.04, -303.85],
      [476.29, -301.53],
      [479.46, -299.11],
      [482.55, -296.58],
      [485.55, -293.95],
      [488.46, -291.22],
      [491.29, -288.39],
      [494.01, -285.48],
      [496.64, -282.47],
      [499.17, -279.38],
      [501.59, -276.21],
      [503.90, -272.96],
      [506.11, -269.63],
      [508.20, -266.23],
      [510.18, -262.76],
      [512.05, -259.23],
      [513.79, -255.64],
      [515.42, -251.99],
      [516.92, -248.29],
      [518.30, -244.55],
      [519.55, -240.76],
      [520.67, -236.93],
      [521.67, -233.06],
      [522.54, -229.16],
      [523.28, -225.24],
      [523.89, -221.30],
      [524.36, -217.33],
      [524.71, -213.35],
      [524.92, -209.37],
      [525.00, -205.38],
      [525.00, -201.38],
      [525.00, -197.39],
      [525.00, -193.40],
      [525.00, -189.41],
      [525.00, -185.41],
      [525.00, -181.42],
      [525.00, -177.43],
      [525.00, -173.44],
      [525.00, -169.44],
      [525.00, -165.45],
      [525.00, -161.46],
      [525.00, -157.47],
      [525.00, -153.47],
      [525.00, -149.48],
      [525.00, -145.49],
      [525.00, -141.50],
      [525.00, -137.50],
      [525.00, -133.51],
      [525.00, -129.52],
      [525.00, -125.53],
      [525.00, -121.53],
      [525.00, -117.54],
      [525.00, -113.55],
      [525.00, -109.56],
      [525.00, -105.56],
      [525.00, -101.57],
      [525.00, -97.58],
      [525.00, -93.59],
      [525.00, -89.59],
      [525.00, -85.60],
      [525.00, -81.61],
      [525.00, -77.62],
      [525.00, -73.62],
      [525.00, -69.63],
      [525.00, -65.64],
      [525.00, -61.65],
      [525.00, -57.65],
      [525.00, -53.66],
      [525.00, -49.67],
      [525.00, -45.68],
      [525.00, -41.68],
      [525.00, -37.69],
      [525.00, -33.70],
      [525.00, -29.71],
      [525.00, -25.71],
      [525.00, -21.72],
      [525.00, -17.73],
      [525.00, -13.74],
      [525.00, -9.74],
      [525.00, -5.75],
      [525.00, -1.76],
      [525.00, 2.23],
      [525.00, 6.23],
      [525.00, 10.22],
      [525.00, 14.21],
      [525.00, 18.20],
      [525.00, 22.20],
      [525.00, 26.19],
      [525.00, 30.18],
      [525.00, 34.17],
      [525.00, 38.17],
      [525.00, 42.16],
      [525.00, 46.15],
      [525.00, 50.14],
      [525.00, 54.13],
      [525.00, 58.13],
      [525.00, 62.12],
      [525.00, 66.11],
      [525.00, 70.10],
      [525.00, 74.10],
      [525.00, 78.09],
      [525.00, 82.08],
      [525.00, 86.07],
      [525.00, 90.07],
      [525.00, 94.06],
      [525.00, 98.05],
      [525.00, 102.04],
      [525.00, 106.04],
      [525.00, 110.03],
      [525.00, 114.02],
      [525.00, 118.01],
      [525.00, 122.01],
      [525.00, 126.00],
      [525.00, 129.99],
      [525.00, 133.98],
      [525.00, 137.98],
      [525.00, 141.97],
      [525.00, 145.96],
      [525.00, 149.95],
      [525.00, 153.95],
      [525.00, 157.94],
      [525.00, 161.93],
      [525.00, 165.92],
      [525.00, 169.92],
      [525.00, 173.91],
      [525.00, 177.90],
      [525.00, 181.89],
      [525.00, 185.89],
      [525.00, 189.88],
      [525.00, 193.87],
      [525.00, 197.86],
      [525.00, 201.86],
      [525.00, 205.85],
      [524.90, 209.84],
      [524.67, 213.83],
      [524.32, 217.80],
      [523.82, 221.76],
      [523.20, 225.71],
      [522.45, 229.63],
      [521.56, 233.52],
      [520.55, 237.38],
      [519.41, 241.21],
      [518.14, 244.99],
      [516.75, 248.74],
      [515.23, 252.43],
      [513.59, 256.07],
      [511.83, 259.65],
      [509.95, 263.18],
      [507.96, 266.64],
      [505.85, 270.03],
      [503.64, 273.34],
      [501.31, 276.59],
      [498.87, 279.75],
      [496.33, 282.83],
      [493.69, 285.83],
      [490.96, 288.73],
      [488.12, 291.55],
      [485.20, 294.26],
      [482.19, 296.88],
      [479.09, 299.40],
      [475.90, 301.81],
      [472.65, 304.12],
      [469.31, 306.31],
      [465.91, 308.40],
      [462.43, 310.36],
      [458.90, 312.22],
      [455.30, 313.95],
      [451.65, 315.56],
      [447.94, 317.05],
      [444.19, 318.42],
      [440.40, 319.66],
      [436.56, 320.77],
      [432.70, 321.76],
      [428.80, 322.62],
      [424.87, 323.34],
      [420.92, 323.94],
      [416.96, 324.40],
      [412.98, 324.73],
      [408.99, 324.93],
      [405.00, 325.00],
      [401.01, 325.00],
      [397.02, 325.00],
      [393.02, 325.00],
      [389.03, 325.00],
      [385.04, 325.00],
      [381.05, 325.00],
      [377.05, 325.00],
      [373.06, 325.00],
      [369.07, 325.00],
      [365.08, 325.00],
      [361.08, 325.00],
      [357.09, 325.00],
      [353.10, 325.00],
      [349.11, 325.00],
      [345.11, 325.00],
      [341.12, 325.00],
      [337.13, 325.00],
      [333.14, 325.00],
      [329.14, 325.00],
      [325.15, 325.00],
      [321.16, 325.00],
      [317.17, 325.00],
      [313.17, 325.00],
      [309.18, 325.00],
      [305.19, 325.00],
      [301.20, 325.00],
      [297.20, 325.00],
      [293.21, 325.00],
      [289.22, 325.00],
      [285.23, 325.00],
      [281.23, 325.00],
      [277.24, 325.00],
      [273.25, 325.00],
      [269.26, 325.00],
      [265.26, 325.00],
      [261.27, 325.00],
      [257.28, 325.00],
      [253.29, 325.00],
      [249.29, 325.00],
      [245.30, 325.00],
      [241.31, 325.00],
      [237.32, 325.00],
      [233.32, 325.00],
      [229.33, 325.00],
      [225.34, 325.00],
      [221.35, 325.00],
      [217.35, 325.00],
      [213.36, 325.00],
      [209.37, 325.00],
      [205.38, 325.00],
      [201.38, 325.00],
      [197.39, 325.00],
      [193.40, 325.00],
      [189.41, 325.00],
      [185.41, 325.00],
      [181.42, 325.00],
      [177.43, 325.00],
      [173.44, 325.00],
      [169.44, 325.00],
      [165.45, 325.00],
      [161.46, 325.00],
      [157.47, 325.00],
      [153.47, 325.00],
      [149.48, 325.00],
      [145.49, 325.00],
      [141.50, 325.00],
      [137.50, 325.00],
      [133.51, 325.00],
      [129.52, 325.00],
      [125.53, 325.00],
      [121.53, 325.00],
      [117.54, 325.00],
      [113.55, 325.00],
      [109.56, 325.00],
      [105.56, 325.00],
      [101.57, 325.00],
      [97.58, 325.00],
      [93.59, 325.00],
      [89.59, 325.00],
      [85.60, 325.00],
      [81.61, 325.00],
      [77.62, 325.00],
      [73.62, 325.00],
      [69.63, 325.00],
      [65.64, 325.00],
      [61.65, 325.00],
      [57.65, 325.00],
      [53.66, 325.00],
      [49.67, 325.00],
      [45.68, 325.00],
      [41.68, 325.00],
      [37.69, 325.00],
      [33.70, 325.00],
      [29.71, 325.00],
      [25.71, 325.00],
      [21.72, 325.00],
      [17.73, 325.00],
      [13.74, 325.00],
      [9.74, 325.00],
      [5.75, 325.00],
      [1.76, 325.00],
      [-2.23, 325.00],
      [-6.23, 325.00],
      [-10.22, 325.00],
      [-14.21, 325.00],
      [-18.20, 325.00],
      [-22.20, 325.00],
      [-26.19, 325.00],
      [-30.18, 325.00],
      [-34.17, 325.00],
      [-38.17, 325.00],
      [-42.16, 325.00],
      [-46.15, 325.00],
      [-50.14, 325.00],
      [-54.13, 325.00],
      [-58.13, 325.00],
      [-62.12, 325.00],
      [-66.11, 325.00],
      [-70.10, 325.00],
      [-74.10, 325.00],
      [-78.09, 325.00],
      [-82.08, 325.00],
      [-86.07, 325.00],
      [-90.07, 325.00],
      [-94.06, 325.00],
      [-98.05, 325.00],
      [-102.04, 325.00],
      [-106.04, 325.00],
      [-110.03, 325.00],
      [-114.02, 325.00],
      [-118.01, 325.00],
      [-122.01, 325.00],
      [-126.00, 325.00],
      [-129.99, 325.00],
      [-133.98, 325.00],
      [-137.98, 325.00],
      [-141.97, 325.00],
      [-145.96, 325.00],
      [-149.95, 325.00],
      [-153.95, 325.00],
      [-157.94, 325.00],
      [-161.93, 325.00],
      [-165.92, 325.00],
      [-169.92, 325.00],
      [-173.91, 325.00],
      [-177.90, 325.00],
      [-181.89, 325.00],
      [-185.89, 325.00],
      [-189.88, 325.00],
      [-193.87, 325.00],
      [-197.86, 325.00],
      [-201.86, 325.00],
      [-205.85, 325.00],
      [-209.84, 325.00],
      [-213.83, 325.00],
      [-217.83, 325.00],
      [-221.82, 325.00],
      [-225.81, 325.00],
      [-229.80, 325.00],
      [-233.80, 325.00],
      [-237.79, 325.00],
      [-241.78, 325.00],
      [-245.77, 325.00],
      [-249.77, 325.00],
      [-253.76, 325.00],
      [-257.75, 325.00],
      [-261.74, 325.00],
      [-265.74, 325.00],
      [-269.73, 325.00],
      [-273.72, 325.00],
      [-277.71, 325.00],
      [-281.71, 325.00],
      [-285.70, 325.00],
      [-289.69, 325.00],
      [-293.68, 325.00],
      [-297.68, 325.00],
      [-301.67, 325.00],
      [-305.66, 325.00],
      [-309.65, 325.00],
      [-313.65, 325.00],
      [-317.64, 325.00],
      [-321.63, 325.00],
      [-325.62, 325.00],
      [-329.62, 325.00],
      [-333.61, 325.00],
      [-337.60, 325.00],
      [-341.59, 325.00],
      [-345.59, 325.00],
      [-349.58, 325.00],
      [-353.57, 325.00],
      [-357.56, 325.00],
      [-361.56, 325.00],
      [-365.55, 325.00],
      [-369.54, 325.00],
      [-373.53, 325.00],
      [-377.53, 325.00],
      [-381.52, 325.00],
      [-385.51, 325.00],
      [-389.50, 325.00],
      [-393.50, 325.00],
      [-397.49, 325.00],
      [-401.48, 325.00],
      [-405.47, 325.00],
      [-409.46, 324.92],
      [-413.45, 324.70],
      [-417.43, 324.35],
      [-421.39, 323.88],
      [-425.34, 323.26],
      [-429.26, 322.52],
      [-433.16, 321.65],
      [-437.02, 320.65],
      [-440.85, 319.52],
      [-444.64, 318.26],
      [-448.38, 316.88],
      [-452.08, 315.38],
      [-455.73, 313.75],
      [-459.32, 312.00],
      [-462.85, 310.14],
      [-466.31, 308.15],
      [-469.71, 306.06],
      [-473.04, 303.85],
      [-476.29, 301.53],
      [-479.46, 299.11],
      [-482.55, 296.58],
      [-485.55, 293.95],
      [-488.46, 291.22],
      [-491.29, 288.39],
      [-494.01, 285.48],
      [-496.64, 282.47],
      [-499.17, 279.38],
      [-501.59, 276.21],
      [-503.90, 272.96],
      [-506.11, 269.63],
      [-508.20, 266.23],
      [-510.18, 262.76],
      [-512.05, 259.23],
      [-513.79, 255.64],
      [-515.42, 251.99],
      [-516.92, 248.29],
      [-518.30, 244.55],
      [-519.55, 240.76],
      [-520.67, 236.93],
      [-521.67, 233.06],
      [-522.54, 229.16],
      [-523.28, 225.24],
      [-523.89, 221.30],
      [-524.36, 217.33],
      [-524.71, 213.35],
      [-524.92, 209.37],
      [-525.00, 205.38],
      [-525.00, 201.38],
      [-525.00, 197.39],
      [-525.00, 193.40],
      [-525.00, 189.41],
      [-525.00, 185.41],
      [-525.00, 181.42],
      [-525.00, 177.43],
      [-525.00, 173.44],
      [-525.00, 169.44],
      [-525.00, 165.45],
      [-525.00, 161.46],
      [-525.00, 157.47],
      [-525.00, 153.47],
      [-525.00, 149.48],
      [-525.00, 145.49],
      [-525.00, 141.50],
      [-525.00, 137.50],
      [-525.00, 133.51],
      [-525.00, 129.52],
      [-525.00, 125.53],
      [-525.00, 121.53],
      [-525.00, 117.54],
      [-525.00, 113.55],
      [-525.00, 109.56],
      [-525.00, 105.56],
      [-525.00, 101.57],
      [-525.00, 97.58],
      [-525.00, 93.59],
      [-525.00, 89.59],
      [-525.00, 85.60],
      [-525.00, 81.61],
      [-525.00, 77.62],
      [-525.00, 73.62],
      [-525.00, 69.63],
      [-525.00, 65.64],
      [-525.00, 61.65],
      [-525.00, 57.65],
      [-525.00, 53.66],
      [-525.00, 49.67],
      [-525.00, 45.68],
      [-525.00, 41.68],
      [-525.00, 37.69],
      [-525.00, 33.70],
      [-525.00, 29.71],
      [-525.00, 25.71],
      [-525.00, 21.72],
      [-525.00, 17.73],
      [-525.00, 13.74],
      [-525.00, 9.74],
      [-525.00, 5.75],
      [-525.00, 1.76],
      [-525.00, -2.23],
      [-525.00, -6.23],
      [-525.00, -10.22],
      [-525.00, -14.21],
      [-525.00, -18.20],
      [-525.00, -22.20],
      [-525.00, -26.19],
      [-525.00, -30.18],
      [-525.00, -34.17],
      [-525.00, -38.17],
      [-525.00, -42.16],
      [-525.00, -46.15],
      [-525.00, -50.14],
      [-525.00, -54.13],
      [-525.00, -58.13],
      [-525.00, -62.12],
      [-525.00, -66.11],
      [-525.00, -70.10],
      [-525.00, -74.10],
      [-525.00, -78.09],
      [-525.00, -82.08],
      [-525.00, -86.07],
      [-525.00, -90.07],
      [-525.00, -94.06],
      [-525.00, -98.05],
      [-525.00, -102.04],
      [-525.00, -106.04],
      [-525.00, -110.03],
      [-525.00, -114.02],
      [-525.00, -118.01],
      [-525.00, -122.01],
      [-525.00, -126.00],
      [-525.00, -129.99],
      [-525.00, -133.98],
      [-525.00, -137.98],
      [-525.00, -141.97],
      [-525.00, -145.96],
      [-525.00, -149.95],
      [-525.00, -153.95],
      [-525.00, -157.94],
      [-525.00, -161.93],
      [-525.00, -165.92],
      [-525.00, -169.92],
      [-525.00, -173.91],
      [-525.00, -177.90],
      [-525.00, -181.89],
      [-525.00, -185.89],
      [-525.00, -189.88],
      [-525.00, -193.87],
      [-525.00, -197.86],
      [-525.00, -201.86],
      [-525.00, -205.85],
      [-524.90, -209.84],
      [-524.67, -213.83],
      [-524.32, -217.80],
      [-523.82, -221.76],
      [-523.20, -225.71],
      [-522.45, -229.63],
      [-521.56, -233.52],
      [-520.55, -237.38],
      [-519.41, -241.21],
      [-518.14, -244.99],
      [-516.75, -248.74],
      [-515.23, -252.43],
      [-513.59, -256.07],
      [-511.83, -259.65],
      [-509.95, -263.18],
      [-507.96, -266.64],
      [-505.85, -270.03],
      [-503.64, -273.34],
      [-501.31, -276.59],
      [-498.87, -279.75],
      [-496.33, -282.83],
      [-493.69, -285.83],
      [-490.96, -288.73],
      [-488.12, -291.55],
      [-485.20, -294.26],
      [-482.19, -296.88],
      [-479.09, -299.40],
      [-475.90, -301.81],
      [-472.65, -304.12],
      [-469.31, -306.31],
      [-465.91, -308.40],
      [-462.43, -310.36],
      [-458.90, -312.22],
      [-455.30, -313.95],
      [-451.65, -315.56],
      [-447.94, -317.05],
      [-444.19, -318.42],
      [-440.40, -319.66],
      [-436.56, -320.77],
      [-432.70, -321.76],
      [-428.80, -322.62],
      [-424.87, -323.34],
      [-420.92, -323.94],
      [-416.96, -324.40],
      [-412.98, -324.73],
      [-408.99, -324.93],
      ],
      obstacles: [{"t": "rect", "x": 0, "y": 0, "w": 160, "h": 320}, {"t": "rect", "x": -300, "y": -120, "w": 120, "h": 120}, {"t": "rect", "x": 300, "y": 120, "w": 120, "h": 120}],
    },
    "spiral": {
      key: "spiral",
      name: "\u0421\u043f\u0456\u0440\u0430\u043b\u044c",
      lineWidth: 34,
      points: [
      [120.00, 0.00],
      [120.51, 3.32],
      [120.92, 6.66],
      [121.24, 10.03],
      [121.46, 13.43],
      [121.59, 16.84],
      [121.63, 20.27],
      [121.56, 23.71],
      [121.40, 27.17],
      [121.14, 30.64],
      [120.78, 34.11],
      [120.32, 37.58],
      [119.77, 41.06],
      [119.11, 44.53],
      [118.35, 48.00],
      [117.48, 51.46],
      [116.52, 54.91],
      [115.46, 58.34],
      [114.29, 61.76],
      [113.03, 65.16],
      [111.66, 68.53],
      [110.19, 71.88],
      [108.63, 75.20],
      [106.96, 78.48],
      [105.19, 81.74],
      [103.33, 84.95],
      [101.37, 88.12],
      [99.31, 91.25],
      [97.16, 94.33],
      [94.91, 97.37],
      [92.57, 100.35],
      [90.13, 103.27],
      [87.61, 106.14],
      [84.99, 108.94],
      [82.29, 111.68],
      [79.50, 114.36],
      [76.62, 116.96],
      [73.66, 119.49],
      [70.62, 121.95],
      [67.50, 124.33],
      [64.30, 126.64],
      [61.03, 128.86],
      [57.68, 130.99],
      [54.27, 133.04],
      [50.78, 135.00],
      [47.22, 136.86],
      [43.60, 138.64],
      [39.92, 140.31],
      [36.18, 141.89],
      [32.38, 143.37],
      [28.53, 144.75],
      [24.63, 146.02],
      [20.68, 147.19],
      [16.68, 148.25],
      [12.64, 149.20],
      [8.56, 150.04],
      [4.45, 150.77],
      [0.30, 151.39],
      [-3.88, 151.89],
      [-8.09, 152.28],
      [-12.32, 152.54],
      [-16.58, 152.70],
      [-20.85, 152.73],
      [-25.13, 152.64],
      [-29.43, 152.43],
      [-33.73, 152.10],
      [-38.04, 151.65],
      [-42.34, 151.07],
      [-46.65, 150.38],
      [-50.95, 149.56],
      [-55.23, 148.62],
      [-59.51, 147.55],
      [-63.77, 146.36],
      [-68.00, 145.05],
      [-72.22, 143.62],
      [-76.40, 142.06],
      [-80.56, 140.38],
      [-84.68, 138.58],
      [-88.76, 136.66],
      [-92.80, 134.62],
      [-96.79, 132.46],
      [-100.74, 130.18],
      [-104.63, 127.78],
      [-108.47, 125.27],
      [-112.25, 122.65],
      [-115.96, 119.91],
      [-119.61, 117.05],
      [-123.19, 114.09],
      [-126.70, 111.02],
      [-130.13, 107.84],
      [-133.48, 104.56],
      [-136.75, 101.18],
      [-139.94, 97.69],
      [-143.03, 94.10],
      [-146.04, 90.42],
      [-148.95, 86.65],
      [-151.76, 82.78],
      [-154.47, 78.82],
      [-157.08, 74.78],
      [-159.58, 70.65],
      [-161.97, 66.44],
      [-164.25, 62.15],
      [-166.42, 57.79],
      [-168.47, 53.35],
      [-170.41, 48.85],
      [-172.22, 44.28],
      [-173.91, 39.64],
      [-175.48, 34.95],
      [-176.92, 30.20],
      [-178.22, 25.40],
      [-179.40, 20.55],
      [-180.45, 15.65],
      [-181.36, 10.71],
      [-182.14, 5.73],
      [-182.78, 0.72],
      [-183.28, -4.32],
      [-183.64, -9.39],
      [-183.86, -14.49],
      [-183.94, -19.60],
      [-183.88, -24.73],
      [-183.67, -29.87],
      [-183.32, -35.01],
      [-182.82, -40.16],
      [-182.18, -45.31],
      [-181.40, -50.46],
      [-180.47, -55.59],
      [-179.39, -60.71],
      [-178.17, -65.82],
      [-176.80, -70.90],
      [-175.29, -75.96],
      [-173.63, -80.99],
      [-171.83, -85.98],
      [-169.88, -90.94],
      [-167.79, -95.85],
      [-165.56, -100.72],
      [-163.19, -105.54],
      [-160.68, -110.30],
      [-158.03, -115.00],
      [-155.24, -119.65],
      [-152.31, -124.22],
      [-149.25, -128.72],
      [-146.06, -133.15],
      [-142.74, -137.51],
      [-139.29, -141.77],
      [-135.71, -145.96],
      [-132.00, -150.05],
      [-128.18, -154.05],
      [-124.23, -157.95],
      [-120.16, -161.75],
      [-115.98, -165.45],
      [-111.69, -169.04],
      [-107.29, -172.51],
      [-102.78, -175.88],
      [-98.16, -179.12],
      [-93.45, -182.25],
      [-88.63, -185.24],
      [-83.73, -188.12],
      [-78.73, -190.86],
      [-73.64, -193.47],
      [-68.47, -195.94],
      [-63.22, -198.28],
      [-57.89, -200.47],
      [-52.49, -202.52],
      [-47.02, -204.42],
      [-41.49, -206.18],
      [-35.89, -207.79],
      [-30.24, -209.24],
      [-24.53, -210.54],
      [-18.78, -211.68],
      [-12.98, -212.67],
      [-7.14, -213.50],
      [-1.26, -214.16],
      [4.64, -214.67],
      [10.58, -215.01],
      [16.53, -215.19],
      [22.50, -215.20],
      [28.49, -215.04],
      [34.48, -214.72],
      [40.48, -214.23],
      [46.48, -213.57],
      [52.47, -212.75],
      [58.45, -211.75],
      [64.42, -210.59],
      [70.37, -209.26],
      [76.29, -207.76],
      [82.18, -206.10],
      [88.04, -204.26],
      [93.86, -202.26],
      [99.64, -200.10],
      [105.36, -197.76],
      [111.04, -195.27],
      [116.66, -192.61],
      [122.21, -189.79],
      [127.70, -186.81],
      [133.11, -183.67],
      [138.45, -180.37],
      [143.71, -176.92],
      [148.88, -173.32],
      [153.97, -169.56],
      [158.96, -165.66],
      [163.85, -161.61],
      [168.64, -157.41],
      [173.32, -153.08],
      [177.89, -148.60],
      [182.34, -143.99],
      [186.68, -139.25],
      [190.89, -134.38],
      [194.97, -129.38],
      [198.93, -124.25],
      [202.74, -119.01],
      [206.43, -113.65],
      [209.96, -108.18],
      [213.36, -102.60],
      [216.60, -96.91],
      [219.70, -91.13],
      [222.64, -85.24],
      [225.42, -79.27],
      [228.04, -73.20],
      [230.49, -67.05],
      [232.79, -60.82],
      [234.91, -54.52],
      [236.86, -48.14],
      [238.64, -41.70],
      [240.24, -35.20],
      [241.66, -28.64],
      [242.91, -22.03],
      [243.97, -15.37],
      [244.85, -8.67],
      [245.55, -1.93],
      [246.06, 4.84],
      [246.38, 11.63],
      [246.52, 18.45],
      [246.47, 25.28],
      [246.22, 32.13],
      [245.79, 38.98],
      [245.17, 45.83],
      [244.35, 52.67],
      [243.34, 59.51],
      [242.14, 66.33],
      [240.75, 73.13],
      [239.17, 79.90],
      [237.40, 86.64],
      [235.44, 93.34],
      [233.29, 100.01],
      [230.94, 106.62],
      [228.42, 113.18],
      [225.70, 119.68],
      [222.80, 126.12],
      [219.72, 132.48],
      [216.45, 138.78],
      [213.01, 144.99],
      [209.38, 151.12],
      [205.58, 157.16],
      [201.61, 163.11],
      [197.46, 168.95],
      [193.15, 174.69],
      [188.66, 180.32],
      [184.02, 185.83],
      [179.21, 191.23],
      [174.24, 196.50],
      [169.12, 201.64],
      [163.85, 206.65],
      [158.43, 211.52],
      [152.87, 216.25],
      [147.17, 220.84],
      [141.33, 225.27],
      [135.35, 229.55],
      [129.25, 233.67],
      [123.03, 237.63],
      [116.68, 241.42],
      [110.22, 245.04],
      [103.64, 248.49],
      [96.96, 251.76],
      [90.18, 254.85],
      [83.30, 257.76],
      [76.33, 260.49],
      [69.28, 263.02],
      [62.14, 265.36],
      [54.92, 267.51],
      [47.64, 269.46],
      [40.28, 271.22],
      [32.87, 272.77],
      [25.40, 274.12],
      [17.88, 275.26],
      [10.32, 276.20],
      [2.72, 276.93],
      [-4.91, 277.45],
      [-12.57, 277.76],
      [-20.25, 277.86],
      [-27.94, 277.75],
      [-35.64, 277.42],
      [-43.35, 276.88],
      [-51.05, 276.12],
      [-58.75, 275.15],
      [-66.43, 273.96],
      [-74.09, 272.56],
      [-81.72, 270.95],
      [-89.32, 269.12],
      [-96.88, 267.08],
      [-104.39, 264.82],
      [-111.86, 262.36],
      [-119.27, 259.68],
      [-126.61, 256.79],
      [-133.89, 253.70],
      [-141.09, 250.40],
      [-148.21, 246.89],
      [-155.24, 243.18],
      [-162.19, 239.27],
      [-169.03, 235.17],
      [-175.77, 230.87],
      [-182.40, 226.37],
      [-188.92, 221.68],
      [-195.32, 216.81],
      [-201.59, 211.75],
      [-207.73, 206.51],
      [-213.74, 201.09],
      [-219.60, 195.50],
      [-225.32, 189.74],
      [-230.89, 183.81],
      [-236.30, 177.72],
      [-241.55, 171.47],
      [-246.63, 165.06],
      [-251.55, 158.50],
      [-256.29, 151.80],
      [-260.85, 144.96],
      [-265.23, 137.98],
      [-269.42, 130.87],
      [-273.42, 123.63],
      [-277.23, 116.27],
      [-280.84, 108.80],
      [-284.25, 101.21],
      [-287.45, 93.52],
      [-290.44, 85.73],
      [-293.22, 77.85],
      [-295.79, 69.88],
      [-298.14, 61.82],
      [-300.27, 53.69],
      [-302.18, 45.49],
      [-303.86, 37.22],
      [-305.32, 28.90],
      [-306.55, 20.52],
      [-307.55, 12.10],
      [-308.31, 3.64],
      [-308.85, -4.86],
      [-309.15, -13.38],
      [-309.21, -21.92],
      [-309.04, -30.48],
      [-308.63, -39.04],
      [-307.98, -47.60],
      [-307.10, -56.16],
      [-305.97, -64.70],
      [-304.61, -73.23],
      [-303.01, -81.72],
      [-301.18, -90.19],
      [-299.11, -98.62],
      [-296.80, -107.00],
      [-294.25, -115.33],
      [-291.47, -123.60],
      [-288.46, -131.80],
      [-285.22, -139.93],
      [-281.75, -147.98],
      [-278.05, -155.95],
      [-274.13, -163.82],
      [-269.98, -171.60],
      [-265.61, -179.27],
      [-261.02, -186.84],
      [-256.22, -194.28],
      [-251.21, -201.60],
      [-245.98, -208.80],
      [-240.56, -215.86],
      [-234.92, -222.77],
      [-229.09, -229.54],
      [-223.07, -236.16],
      [-216.85, -242.62],
      [-210.45, -248.92],
      [-203.86, -255.05],
      [-197.10, -261.00],
      [-190.16, -266.77],
      [-183.05, -272.36],
      [-175.78, -277.76],
      [-168.35, -282.97],
      [-160.77, -287.97],
      [-153.04, -292.78],
      [-145.17, -297.37],
      [-137.16, -301.76],
      [-129.01, -305.92],
      [-120.75, -309.87],
      [-112.36, -313.60],
      [-103.86, -317.09],
      [-95.25, -320.36],
      [-86.54, -323.39],
      [-77.73, -326.18],
      [-68.84, -328.74],
      [-59.87, -331.05],
      [-50.82, -333.12],
      [-41.70, -334.94],
      [-32.52, -336.51],
      [-23.28, -337.82],
      [-14.00, -338.88],
      [-4.68, -339.69],
      [4.68, -340.24],
      [14.07, -340.54],
      [23.47, -340.57],
      [32.89, -340.34],
      [42.31, -339.85],
      [51.73, -339.11],
      [61.14, -338.10],
      [70.53, -336.82],
      [79.90, -335.29],
      [89.24, -333.50],
      [98.54, -331.44],
      [107.80, -329.13],
      [117.00, -326.56],
      [126.14, -323.73],
      [135.22, -320.64],
      [144.22, -317.30],
      [153.14, -313.70],
      [161.97, -309.86],
      [170.70, -305.76],
      [179.34, -301.42],
      [187.86, -296.84],
      [196.26, -292.01],
      [204.54, -286.95],
      [212.69, -281.65],
      [220.71, -276.12],
      [228.58, -270.37],
      [236.30, -264.38],
      [243.86, -258.18],
      [251.27, -251.76],
      [258.50, -245.13],
      [265.56, -238.29],
      [272.43, -231.25],
      [279.12, -224.01],
      [285.62, -216.58],
      [291.92, -208.95],
      [298.02, -201.15],
      [303.91, -193.17],
      [309.58, -185.01],
      [315.03, -176.69],
      [320.26, -168.21],
      [325.27, -159.58],
      [330.04, -150.79],
      [334.57, -141.87],
      [338.86, -132.81],
      [342.90, -123.62],
      [346.70, -114.31],
      [350.24, -104.88],
      [353.53, -95.35],
      [356.55, -85.71],
      [359.31, -75.98],
      [361.81, -66.16],
      [364.04, -56.26],
      [365.99, -46.29],
      [367.68, -36.26],
      [369.09, -26.17],
      [370.22, -16.02],
      [371.07, -5.84],
      [371.64, 4.38],
      [371.93, 14.63],
      [371.93, 24.90],
      [371.66, 35.18],
      [371.09, 45.46],
      [370.25, 55.73],
      [369.11, 66.00],
      [367.70, 76.24],
      [366.00, 86.46],
      [364.01, 96.64],
      [361.74, 106.78],
      [359.19, 116.86],
      [356.36, 126.89],
      [353.24, 136.85],
      [349.85, 146.73],
      [346.18, 156.53],
      [342.24, 166.24],
      [338.02, 175.85],
      [333.54, 185.35],
      [328.78, 194.74],
      [323.77, 204.01],
      [318.49, 213.15],
      [312.95, 222.15],
      [307.16, 231.01],
      [301.11, 239.72],
      [294.82, 248.27],
      [288.29, 256.65],
      [281.52, 264.87],
      [274.52, 272.90],
      [267.28, 280.75],
      [259.82, 288.41],
      [252.14, 295.87],
      [244.25, 303.13],
      [236.15, 310.17],
      [227.85, 317.00],
      [219.35, 323.61],
      [210.65, 329.98],
      [201.78, 336.13],
      [192.72, 342.03],
      [183.49, 347.69],
      [174.10, 353.11],
      [164.54, 358.26],
      [154.84, 363.16],
      [144.99, 367.80],
      [135.00, 372.17],
      [124.88, 376.26],
      [114.63, 380.09],
      [104.28, 383.63],
      [93.81, 386.89],
      [83.24, 389.86],
      [72.58, 392.55],
      [61.84, 394.94],
      [51.01, 397.04],
      [40.12, 398.84],
      [29.17, 400.34],
      [18.17, 401.54],
      [7.12, 402.44],
      [-3.96, 403.03],
      [-15.07, 403.32],
      [-26.20, 403.30],
      [-37.34, 402.98],
      [-48.48, 402.35],
      [-59.62, 401.40],
      [-70.74, 400.15],
      [-81.83, 398.59],
      [-92.90, 396.73],
      [-103.92, 394.55],
      [-114.89, 392.07],
      [-125.81, 389.29],
      [-136.66, 386.20],
      [-147.43, 382.80],
      [-158.12, 379.11],
      [-168.72, 375.12],
      [-179.22, 370.83],
      [-189.61, 366.24],
      [-199.89, 361.37],
      [-210.04, 356.20],
      [-220.05, 350.76],
      [-229.93, 345.03],
      [-239.65, 339.02],
      [-249.22, 332.73],
      [-258.63, 326.18],
      [-267.86, 319.36],
      [-276.91, 312.28],
      [-285.78, 304.94],
      [-294.45, 297.36],
      [-302.92, 289.52],
      [-311.18, 281.44],
      [-319.22, 273.13],
      [-327.05, 264.59],
      [-334.64, 255.82],
      [-342.00, 246.84],
      [-349.12, 237.64],
      [-355.99, 228.24],
      [-362.61, 218.64],
      [-368.97, 208.85],
      [-375.06, 198.88],
      [-380.89, 188.73],
      [-386.44, 178.40],
      [-391.71, 167.92],
      [-396.69, 157.28],
      [-401.39, 146.49],
      [-405.79, 135.56],
      [-409.89, 124.50],
      [-413.70, 113.32],
      [-417.19, 102.03],
      [-420.38, 90.62],
      [-423.26, 79.12],
      [-425.82, 67.53],
      [-428.06, 55.86],
      [-429.98, 44.11],
      [-431.58, 32.30],
      [-432.86, 20.44],
      [-433.81, 8.53],
      [-434.43, -3.42],
      [-434.72, -15.39],
      [-434.68, -27.38],
      [-434.31, -39.38],
      [-433.61, -51.39],
      [-432.58, -63.38],
      [-431.21, -75.35],
      [-429.52, -87.30],
      [-427.49, -99.21],
      [-425.13, -111.08],
      [-422.44, -122.89],
      [-419.42, -134.64],
      [-416.08, -146.31],
      [-412.41, -157.90],
      [-408.41, -169.41],
      [-404.10, -180.81],
      [-399.47, -192.10],
      [-394.52, -203.27],
      [-389.26, -214.31],
      [-383.69, -225.22],
      [-377.81, -235.99],
      [-371.63, -246.60],
      [-365.15, -257.05],
      [-358.38, -267.33],
      [-351.32, -277.44],
      [-343.98, -287.35],
      [-336.35, -297.08],
      [-328.45, -306.59],
      [-320.28, -315.90],
      [-311.85, -325.00],
      [-303.16, -333.86],
      [-294.21, -342.50],
      [-285.02, -350.89],
      [-275.59, -359.04],
      [-265.93, -366.93],
      [-256.04, -374.57],
      [-245.94, -381.93],
      [-235.62, -389.03],
      [-225.10, -395.84],
      [-214.38, -402.38],
      [-203.47, -408.62],
      [-192.38, -414.56],
      [-181.11, -420.20],
      [-169.68, -425.54],
      [-158.10, -430.56],
      [-146.37, -435.27],
      [-134.49, -439.66],
      [-122.49, -443.73],
      [-110.36, -447.47],
      [-98.12, -450.87],
      [-85.78, -453.94],
      [-73.34, -456.68],
      [-60.82, -459.07],
      [-48.22, -461.12],
      [-35.55, -462.82],
      [-22.83, -464.17],
      [-10.06, -465.17],
      [2.75, -465.82],
      [15.58, -466.12],
      [28.44, -466.07],
      [41.30, -465.66],
      [54.17, -464.89],
      [67.02, -463.77],
      [79.85, -462.29],
      [92.65, -460.46],
      [105.41, -458.27],
      [118.12, -455.73],
      [130.77, -452.84],
      [143.35, -449.59],
      [155.85, -445.99],
      [168.26, -442.05],
      [180.57, -437.76],
      [192.77, -433.13],
      [204.86, -428.16],
      [216.81, -422.85],
      [228.63, -417.20],
      [240.31, -411.23],
      [251.82, -404.93],
      [263.18, -398.30],
      [274.35, -391.36],
      [285.35, -384.11],
      [296.15, -376.54],
      [306.75, -368.67],
      [317.15, -360.50],
      [327.32, -352.04],
      [337.27, -343.29],
      [346.99, -334.26],
      [356.46, -324.96],
      [365.69, -315.39],
      [374.66, -305.55],
      [383.36, -295.46],
      [391.79, -285.12],
      [399.94, -274.54],
      [407.81, -263.73],
      [415.38, -252.70],
      [422.66, -241.44],
      [429.63, -229.98],
      [436.29, -218.32],
      [442.63, -206.46],
      [448.65, -194.42],
      [454.34, -182.20],
      [459.70, -169.82],
      [464.72, -157.28],
      [469.40, -144.60],
      [473.73, -131.77],
      [477.71, -118.82],
      [481.34, -105.75],
      [484.61, -92.56],
      [487.51, -79.28],
      [490.06, -65.91],
      [492.23, -52.45],
      [494.04, -38.93],
      [495.47, -25.35],
      [496.53, -11.72],
      [497.22, 1.96],
      [497.53, 15.65],
      [497.46, 29.37],
      [497.01, 43.10],
      [496.18, 56.82],
      [494.97, 70.53],
      [493.39, 84.22],
      [491.42, 97.88],
      [489.08, 111.49],
      [486.36, 125.04],
      [483.27, 138.53],
      [479.80, 151.94],
      [475.95, 165.27],
      [471.74, 178.50],
      [467.16, 191.62],
      [462.21, 204.63],
      [456.90, 217.51],
      [451.23, 230.25],
      [445.21, 242.84],
      [438.83, 255.28],
      [432.11, 267.55],
      [425.04, 279.64],
      [417.64, 291.55],
      [409.90, 303.26],
      [401.83, 314.77],
      [393.44, 326.06],
      [384.73, 337.12],
      [375.71, 347.96],
      [366.39, 358.55],
      [356.77, 368.89],
      [346.85, 378.98],
      [336.65, 388.80],
      [326.17, 398.34],
      [315.42, 407.60],
      [304.41, 416.57],
      [293.15, 425.24],
      [281.63, 433.61],
      [269.88, 441.67],
      [257.90, 449.41],
      [245.69, 456.82],
      [233.28, 463.90],
      [220.65, 470.64],
      [207.84, 477.04],
      [194.84, 483.09],
      [181.66, 488.79],
      [168.32, 494.12],
      [154.82, 499.09],
      [141.17, 503.69],
      [127.39, 507.92],
      [113.49, 511.77],
      [99.46, 515.24],
      [85.34, 518.33],
      [71.11, 521.03],
      [56.81, 523.33],
      [42.43, 525.25],
      [27.99, 526.77],
      [13.49, 527.89],
      [-1.04, 528.61],
      [-15.60, 528.93],
      [-30.18, 528.85],
      [-44.77, 528.37],
      [-59.36, 527.48],
      [-73.93, 526.20],
      [-88.47, 524.51],
      [-102.98, 522.41],
      [-117.44, 519.92],
      [-131.84, 517.02],
      [-146.17, 513.73],
      [-160.42, 510.04],
      [-174.57, 505.95],
      [-188.62, 501.47],
      [-202.56, 496.60],
      [-216.37, 491.34],
      [-230.05, 485.70],
      [-243.57, 479.67],
      [-256.95, 473.27],
      [-270.15, 466.50],
      [-283.17, 459.36],
      [-296.01, 451.85],
      [-308.65, 443.98],
      [-321.07, 435.77],
      [-333.28, 427.20],
      [-345.26, 418.29],
      [-357.01, 409.04],
      [-368.50, 399.47],
      [-379.74, 389.57],
      [-390.71, 379.36],
      [-401.41, 368.83],
      [-411.82, 358.01],
      [-421.95, 346.89],
      [-431.77, 335.48],
      [-441.28, 323.80],
      [-450.48, 311.85],
      [-459.35, 299.63],
      [-467.89, 287.17],
      [-476.09, 274.46],
      [-483.95, 261.51],
      [-491.46, 248.34],
      [-498.60, 234.96],
      [-505.38, 221.37],
      [-511.79, 207.58],
      [-517.83, 193.61],
      [-523.48, 179.47],
      [-528.75, 165.16],
      [-533.62, 150.70],
      [-538.10, 136.09],
      [-542.18, 121.35],
      [-545.86, 106.49],
      [-549.12, 91.52],
      [-551.98, 76.44],
      [-554.42, 61.29],
      [-556.45, 46.05],
      [-558.05, 30.75],
      [-559.24, 15.40],
      [-560.00, 0.00],
      ],
      obstacles: [{"t": "circle", "x": 0, "y": 0, "r": 50}],
    },
    "maze": {
      key: "maze",
      name: "\u041b\u0430\u0431\u0456\u0440\u0438\u043d\u0442",
      lineWidth: 34,
      points: [
      [-500.00, -300.00],
      [-440.00, -300.00],
      [-380.00, -300.00],
      [-320.00, -300.00],
      [-260.00, -300.00],
      [-320.00, -300.00],
      [-320.00, -240.00],
      [-320.00, -180.00],
      [-320.00, -240.00],
      [-260.00, -240.00],
      [-200.00, -240.00],
      [-140.00, -240.00],
      [-80.00, -240.00],
      [-80.00, -300.00],
      [-140.00, -300.00],
      [-200.00, -300.00],
      [-260.00, -300.00],
      [-200.00, -300.00],
      [-140.00, -300.00],
      [-80.00, -300.00],
      [-20.00, -300.00],
      [-80.00, -300.00],
      [-140.00, -300.00],
      [-200.00, -300.00],
      [-140.00, -300.00],
      [-80.00, -300.00],
      [-20.00, -300.00],
      [40.00, -300.00],
      [100.00, -300.00],
      [160.00, -300.00],
      [220.00, -300.00],
      [280.00, -300.00],
      [220.00, -300.00],
      [160.00, -300.00],
      [160.00, -240.00],
      [160.00, -180.00],
      [160.00, -120.00],
      [160.00, -60.00],
      [160.00, 0.00],
      [160.00, 60.00],
      [160.00, 0.00],
      [160.00, 60.00],
      [160.00, 0.00],
      [160.00, -60.00],
      [160.00, -120.00],
      [160.00, -60.00],
      [160.00, 0.00],
      [160.00, 60.00],
      [160.00, 120.00],
      [160.00, 180.00],
      [220.00, 180.00],
      [280.00, 180.00],
      [340.00, 180.00],
      [400.00, 180.00],
      [400.00, 240.00],
      [400.00, 300.00],
      [400.00, 240.00],
      [400.00, 180.00],
      [400.00, 120.00],
      [400.00, 60.00],
      [400.00, 0.00],
      [400.00, -60.00],
      [400.00, -120.00],
      [400.00, -180.00],
      [400.00, -240.00],
      [400.00, -180.00],
      [340.00, -180.00],
      [280.00, -180.00],
      [220.00, -180.00],
      [160.00, -180.00],
      [160.00, -240.00],
      [160.00, -300.00],
      [160.00, -240.00],
      [160.00, -180.00],
      [160.00, -120.00],
      [160.00, -60.00],
      [160.00, 0.00],
      [160.00, 60.00],
      [160.00, 120.00],
      [160.00, 180.00],
      [100.00, 180.00],
      [40.00, 180.00],
      [-20.00, 180.00],
      [-80.00, 180.00],
      [-80.00, 120.00],
      [-80.00, 60.00],
      [-80.00, 0.00],
      [-80.00, -60.00],
      [-20.00, -60.00],
      [40.00, -60.00],
      [100.00, -60.00],
      [160.00, -60.00],
      [220.00, -60.00],
      [280.00, -60.00],
      [340.00, -60.00],
      [400.00, -60.00],
      [460.00, -60.00],
      [520.00, -60.00],
      [460.00, -60.00],
      [400.00, -60.00],
      [460.00, -60.00],
      [400.00, -60.00],
      [340.00, -60.00],
      [280.00, -60.00],
      [220.00, -60.00],
      [160.00, -60.00],
      [100.00, -60.00],
      [100.00, 0.00],
      [100.00, 60.00],
      [100.00, 120.00],
      [100.00, 180.00],
      [100.00, 120.00],
      [100.00, 60.00],
      [100.00, 0.00],
      [100.00, -60.00],
      [160.00, -60.00],
      [220.00, -60.00],
      [280.00, -60.00],
      [340.00, -60.00],
      [400.00, -60.00],
      [460.00, -60.00],
      [460.00, 0.00],
      [520.00, 0.00],
      [460.00, 0.00],
      [400.00, 0.00],
      [340.00, 0.00],
      [340.00, 60.00],
      [340.00, 120.00],
      [340.00, 180.00],
      [340.00, 240.00],
      [340.00, 300.00],
      [340.00, 240.00],
      [340.00, 180.00],
      [340.00, 120.00],
      [340.00, 60.00],
      [280.00, 60.00],
      [220.00, 60.00],
      [160.00, 60.00],
      [160.00, 0.00],
      [160.00, -60.00],
      [220.00, -60.00],
      [280.00, -60.00],
      [340.00, -60.00],
      [340.00, 0.00],
      [340.00, 60.00],
      [340.00, 120.00],
      [340.00, 180.00],
      [340.00, 240.00],
      [340.00, 300.00],
      [280.00, 300.00],
      [220.00, 300.00],
      [160.00, 300.00],
      [100.00, 300.00],
      [40.00, 300.00],
      [-20.00, 300.00],
      [-20.00, 240.00],
      [-20.00, 180.00],
      [40.00, 180.00],
      [100.00, 180.00],
      [160.00, 180.00],
      [220.00, 180.00],
      [280.00, 180.00],
      [280.00, 240.00],
      [280.00, 180.00],
      [280.00, 120.00],
      [280.00, 60.00],
      [220.00, 60.00],
      [160.00, 60.00],
      [160.00, 0.00],
      [160.00, -60.00],
      [160.00, -120.00],
      [160.00, -180.00],
      [160.00, -240.00],
      [160.00, -300.00],
      [220.00, -300.00],
      [280.00, -300.00],
      [340.00, -300.00],
      [280.00, -300.00],
      [220.00, -300.00],
      [160.00, -300.00],
      [100.00, -300.00],
      [100.00, -240.00],
      [40.00, -240.00],
      [-20.00, -240.00],
      [-80.00, -240.00],
      [-140.00, -240.00],
      [-200.00, -240.00],
      [-200.00, -180.00],
      [-200.00, -120.00],
      [-200.00, -60.00],
      [-200.00, 0.00],
      [-200.00, 60.00],
      [-200.00, 120.00],
      [-200.00, 180.00],
      [-260.00, 180.00],
      [-320.00, 180.00],
      [-320.00, 120.00],
      [-320.00, 60.00],
      [-320.00, 0.00],
      [-320.00, -60.00],
      [-380.00, -60.00],
      [-440.00, -60.00],
      [-500.00, -60.00],
      [-440.00, -60.00],
      [-380.00, -60.00],
      [-320.00, -60.00],
      [-260.00, -60.00],
      [-200.00, -60.00],
      [-140.00, -60.00],
      [-140.00, 0.00],
      [-80.00, 0.00],
      [-20.00, 0.00],
      [40.00, 0.00],
      [100.00, 0.00],
      [160.00, 0.00],
      [220.00, 0.00],
      [280.00, 0.00],
      [340.00, 0.00],
      [400.00, 0.00],
      [460.00, 0.00],
      [520.00, 0.00],
      [460.00, 0.00],
      [400.00, 0.00],
      [340.00, 0.00],
      [280.00, 0.00],
      [220.00, 0.00],
      [160.00, 0.00],
      [100.00, 0.00],
      [40.00, 0.00],
      [-20.00, 0.00],
      [-80.00, 0.00],
      [-20.00, 0.00],
      [40.00, 0.00],
      [100.00, 0.00],
      [160.00, 0.00],
      [220.00, 0.00],
      [220.00, 60.00],
      [220.00, 120.00],
      [220.00, 180.00],
      [220.00, 240.00],
      [160.00, 240.00],
      [100.00, 240.00],
      [160.00, 240.00],
      [220.00, 240.00],
      [280.00, 240.00],
      [340.00, 240.00],
      [400.00, 240.00],
      [400.00, 180.00],
      [400.00, 120.00],
      [400.00, 60.00],
      [400.00, 0.00],
      [400.00, -60.00],
      [400.00, 0.00],
      [400.00, -60.00],
      [400.00, -120.00],
      [400.00, -60.00],
      [400.00, 0.00],
      [400.00, 60.00],
      [400.00, 120.00],
      [340.00, 120.00],
      [280.00, 120.00],
      [280.00, 180.00],
      [280.00, 240.00],
      [280.00, 300.00],
      [220.00, 300.00],
      [160.00, 300.00],
      [100.00, 300.00],
      [40.00, 300.00],
      [-20.00, 300.00],
      [-80.00, 300.00],
      [-140.00, 300.00],
      [-200.00, 300.00],
      [-260.00, 300.00],
      [-320.00, 300.00],
      [-380.00, 300.00],
      [-440.00, 300.00],
      [-380.00, 300.00],
      [-320.00, 300.00],
      [-260.00, 300.00],
      [-200.00, 300.00],
      [-260.00, 300.00],
      [-200.00, 300.00],
      [-140.00, 300.00],
      [-80.00, 300.00],
      [-20.00, 300.00],
      [40.00, 300.00],
      [100.00, 300.00],
      [40.00, 300.00],
      [-20.00, 300.00],
      [-80.00, 300.00],
      [-140.00, 300.00],
      [-140.00, 240.00],
      [-140.00, 180.00],
      [-140.00, 120.00],
      [-140.00, 60.00],
      [-140.00, 0.00],
      [-140.00, 60.00],
      [-140.00, 120.00],
      [-140.00, 180.00],
      [-80.00, 180.00],
      [-20.00, 180.00],
      [40.00, 180.00],
      [40.00, 120.00],
      [40.00, 60.00],
      [40.00, 0.00],
      [40.00, -60.00],
      [40.00, -120.00],
      [40.00, -180.00],
      [40.00, -240.00],
      [40.00, -300.00],
      [-20.00, -300.00],
      [-80.00, -300.00],
      [-140.00, -300.00],
      [-200.00, -300.00],
      [-260.00, -300.00],
      [-320.00, -300.00],
      [-380.00, -300.00],
      [-440.00, -300.00],
      [-440.00, -240.00],
      [-440.00, -180.00],
      [-440.00, -240.00],
      [-440.00, -300.00],
      [-440.00, -240.00],
      [-440.00, -180.00],
      [-440.00, -120.00],
      [-500.00, -120.00],
      [-500.00, -180.00],
      [-500.00, -120.00],
      [-500.00, -60.00],
      [-500.00, 0.00],
      [-500.00, 60.00],
      [-500.00, 120.00],
      [-440.00, 120.00],
      [-440.00, 60.00],
      [-440.00, 120.00],
      [-440.00, 180.00],
      [-380.00, 180.00],
      [-320.00, 180.00],
      [-260.00, 180.00],
      [-200.00, 180.00],
      [-140.00, 180.00],
      [-80.00, 180.00],
      [-140.00, 180.00],
      [-200.00, 180.00],
      [-260.00, 180.00],
      [-320.00, 180.00],
      [-380.00, 180.00],
      [-440.00, 180.00],
      [-500.00, 180.00],
      [-440.00, 180.00],
      [-440.00, 120.00],
      [-440.00, 60.00],
      [-440.00, 0.00],
      [-380.00, 0.00],
      [-320.00, 0.00],
      [-260.00, 0.00],
      [-200.00, 0.00],
      [-140.00, 0.00],
      [-80.00, 0.00],
      [-20.00, 0.00],
      [-20.00, 60.00],
      [-20.00, 120.00],
      [-20.00, 180.00],
      [-20.00, 240.00],
      [40.00, 240.00],
      [100.00, 240.00],
      [160.00, 240.00],
      [220.00, 240.00],
      [280.00, 240.00],
      [340.00, 240.00],
      [400.00, 240.00],
      [460.00, 240.00],
      [520.00, 240.00],
      [520.00, 180.00],
      [520.00, 120.00],
      [520.00, 180.00],
      [460.00, 180.00],
      [460.00, 120.00],
      [460.00, 60.00],
      [460.00, 0.00],
      [460.00, -60.00],
      [460.00, -120.00],
      [460.00, -180.00],
      [460.00, -240.00],
      [460.00, -300.00],
      [400.00, -300.00],
      [340.00, -300.00],
      [280.00, -300.00],
      [220.00, -300.00],
      [160.00, -300.00],
      [160.00, -240.00],
      [160.00, -180.00],
      [160.00, -120.00],
      [100.00, -120.00],
      [40.00, -120.00],
      [-20.00, -120.00],
      [-80.00, -120.00],
      [-140.00, -120.00],
      [-200.00, -120.00],
      [-260.00, -120.00],
      [-320.00, -120.00],
      [-320.00, -180.00],
      [-320.00, -240.00],
      [-320.00, -300.00],
      [-320.00, -240.00],
      [-320.00, -180.00],
      [-320.00, -120.00],
      [-320.00, -60.00],
      [-260.00, -60.00],
      [-260.00, 0.00],
      [-260.00, 60.00],
      [-260.00, 120.00],
      [-260.00, 180.00],
      [-260.00, 240.00],
      [-260.00, 180.00],
      [-260.00, 120.00],
      [-260.00, 60.00],
      [-260.00, 0.00],
      [-260.00, -60.00],
      [-260.00, -120.00],
      [-260.00, -180.00],
      [-260.00, -240.00],
      [-260.00, -180.00],
      [-260.00, -120.00],
      [-260.00, -60.00],
      [-320.00, -60.00],
      [-380.00, -60.00],
      [-440.00, -60.00],
      [-500.00, -60.00],
      [-440.00, -60.00],
      [-380.00, -60.00],
      [-320.00, -60.00],
      [-260.00, -60.00],
      [-200.00, -60.00],
      [-140.00, -60.00],
      [-80.00, -60.00],
      [-20.00, -60.00],
      [-20.00, 0.00],
      [-20.00, 60.00],
      [-20.00, 120.00],
      [-20.00, 180.00],
      [-20.00, 240.00],
      [-20.00, 300.00],
      [-20.00, 240.00],
      [-20.00, 180.00],
      [-20.00, 120.00],
      [-20.00, 60.00],
      [-20.00, 0.00],
      [-20.00, -60.00],
      [-20.00, -120.00],
      [-20.00, -180.00],
      [-20.00, -240.00],
      [-20.00, -300.00],
      [-20.00, -240.00],
      [-20.00, -180.00],
      [-80.00, -180.00],
      [-80.00, -240.00],
      [-80.00, -300.00],
      [-80.00, -240.00],
      [-80.00, -180.00],
      [-80.00, -120.00],
      [-80.00, -60.00],
      [-80.00, 0.00],
      [-80.00, 60.00],
      [-80.00, 120.00],
      [-80.00, 180.00],
      [-140.00, 180.00],
      [-140.00, 120.00],
      [-140.00, 60.00],
      [-140.00, 0.00],
      [-140.00, -60.00],
      [-140.00, -120.00],
      [-140.00, -180.00],
      [-140.00, -240.00],
      [-200.00, -240.00],
      [-260.00, -240.00],
      [-320.00, -240.00],
      [-380.00, -240.00],
      [-440.00, -240.00],
      [-380.00, -240.00],
      [-320.00, -240.00],
      [-260.00, -240.00],
      [-200.00, -240.00],
      [-140.00, -240.00],
      [-80.00, -240.00],
      [-20.00, -240.00],
      [-20.00, -180.00],
      [-20.00, -120.00],
      [-20.00, -60.00],
      [-20.00, 0.00],
      [-20.00, 60.00],
      [-20.00, 120.00],
      [-20.00, 180.00],
      [-80.00, 180.00],
      [-140.00, 180.00],
      [-200.00, 180.00],
      [-260.00, 180.00],
      [-320.00, 180.00],
      [-380.00, 180.00],
      [-440.00, 180.00],
      [-440.00, 120.00],
      [-440.00, 60.00],
      [-440.00, 0.00],
      [-440.00, -60.00],
      [-440.00, -120.00],
      [-440.00, -180.00],
      [-440.00, -240.00],
      [-440.00, -300.00],
      [-440.00, -240.00],
      [-440.00, -180.00],
      [-440.00, -120.00],
      [-440.00, -60.00],
      [-500.00, -60.00],
      [-440.00, -60.00],
      [-380.00, -60.00],
      [-320.00, -60.00],
      [-260.00, -60.00],
      [-200.00, -60.00],
      [-140.00, -60.00],
      [-80.00, -60.00],
      [-20.00, -60.00],
      [-80.00, -60.00],
      [-20.00, -60.00],
      [40.00, -60.00],
      [100.00, -60.00],
      [100.00, 0.00],
      [100.00, 60.00],
      [100.00, 120.00],
      [100.00, 180.00],
      [100.00, 240.00],
      [100.00, 300.00],
      [100.00, 240.00],
      [100.00, 180.00],
      [160.00, 180.00],
      [160.00, 240.00],
      [160.00, 300.00],
      [160.00, 240.00],
      [160.00, 180.00],
      [160.00, 120.00],
      [100.00, 120.00],
      [40.00, 120.00],
      [40.00, 60.00],
      [40.00, 0.00],
      [40.00, -60.00],
      [40.00, -120.00],
      [40.00, -180.00],
      [40.00, -240.00],
      [-20.00, -240.00],
      [-80.00, -240.00],
      [-140.00, -240.00],
      [-80.00, -240.00],
      [-20.00, -240.00],
      [40.00, -240.00],
      [100.00, -240.00],
      [160.00, -240.00],
      [160.00, -180.00],
      [160.00, -120.00],
      [160.00, -60.00],
      [100.00, -60.00],
      [40.00, -60.00],
      [-20.00, -60.00],
      [-80.00, -60.00],
      [-140.00, -60.00],
      [-200.00, -60.00],
      [-200.00, -120.00],
      [-200.00, -180.00],
      [-200.00, -240.00],
      [-200.00, -300.00],
      [-200.00, -240.00],
      [-260.00, -240.00],
      [-320.00, -240.00],
      [-260.00, -240.00],
      [-200.00, -240.00],
      [-140.00, -240.00],
      [-80.00, -240.00],
      [-80.00, -300.00],
      [-80.00, -240.00],
      [-80.00, -180.00],
      [-80.00, -120.00],
      [-80.00, -60.00],
      [-80.00, 0.00],
      [-80.00, 60.00],
      [-80.00, 0.00],
      [-80.00, -60.00],
      [-80.00, -120.00],
      [-80.00, -180.00],
      [-80.00, -240.00],
      [-20.00, -240.00],
      [40.00, -240.00],
      [100.00, -240.00],
      [160.00, -240.00],
      [100.00, -240.00],
      [40.00, -240.00],
      [-20.00, -240.00],
      [-80.00, -240.00],
      [-140.00, -240.00],
      [-140.00, -300.00],
      [-140.00, -240.00],
      [-140.00, -180.00],
      [-140.00, -120.00],
      [-140.00, -60.00],
      [-140.00, 0.00],
      [-140.00, -60.00],
      [-80.00, -60.00],
      [-20.00, -60.00],
      [40.00, -60.00],
      [-20.00, -60.00],
      [-80.00, -60.00],
      [-140.00, -60.00],
      [-200.00, -60.00],
      [-260.00, -60.00],
      [-320.00, -60.00],
      [-380.00, -60.00],
      [-440.00, -60.00],
      [-500.00, -60.00],
      [-440.00, -60.00],
      [-380.00, -60.00],
      [-320.00, -60.00],
      [-380.00, -60.00],
      [-380.00, -120.00],
      [-380.00, -180.00],
      [-380.00, -240.00],
      [-380.00, -300.00],
      [-380.00, -240.00],
      [-380.00, -180.00],
      [-380.00, -120.00],
      [-380.00, -60.00],
      [-380.00, 0.00],
      [-380.00, 60.00],
      [-380.00, 120.00],
      [-380.00, 180.00],
      [-380.00, 240.00],
      [-380.00, 300.00],
      [-380.00, 240.00],
      [-440.00, 240.00],
      [-500.00, 240.00],
      [-500.00, 180.00],
      [-440.00, 180.00],
      [-380.00, 180.00],
      [-320.00, 180.00],
      [-320.00, 120.00],
      [-320.00, 60.00],
      [-320.00, 0.00],
      [-320.00, -60.00],
      [-260.00, -60.00],
      [-200.00, -60.00],
      [-140.00, -60.00],
      [-80.00, -60.00],
      [-140.00, -60.00],
      [-200.00, -60.00],
      [-260.00, -60.00],
      [-320.00, -60.00],
      [-380.00, -60.00],
      [-440.00, -60.00],
      [-500.00, -60.00],
      [-500.00, 0.00],
      [-500.00, 60.00],
      [-500.00, 120.00],
      [-500.00, 180.00],
      [-500.00, 240.00],
      [-440.00, 240.00],
      [-500.00, 240.00],
      [-440.00, 240.00],
      [-380.00, 240.00],
      [-320.00, 240.00],
      [-260.00, 240.00],
      [-200.00, 240.00],
      [-140.00, 240.00],
      [-80.00, 240.00],
      [-20.00, 240.00],
      [-20.00, 180.00],
      [-20.00, 120.00],
      [-20.00, 60.00],
      [-20.00, 0.00],
      [-20.00, 60.00],
      [40.00, 60.00],
      [-20.00, 60.00],
      [-80.00, 60.00],
      [-140.00, 60.00],
      [-200.00, 60.00],
      [-260.00, 60.00],
      [-320.00, 60.00],
      [-380.00, 60.00],
      [-440.00, 60.00],
      [-440.00, 120.00],
      [-440.00, 180.00],
      [-440.00, 240.00],
      [-440.00, 300.00],
      [-500.00, 300.00],
      [-440.00, 300.00],
      [-380.00, 300.00],
      [-320.00, 300.00],
      [-260.00, 300.00],
      [-200.00, 300.00],
      [-140.00, 300.00],
      [-80.00, 300.00],
      [-20.00, 300.00],
      [40.00, 300.00],
      [100.00, 300.00],
      [160.00, 300.00],
      [220.00, 300.00],
      [280.00, 300.00],
      [340.00, 300.00],
      [400.00, 300.00],
      [460.00, 300.00],
      [520.00, 300.00],
      [460.00, 300.00],
      [460.00, 240.00],
      [460.00, 180.00],
      [460.00, 240.00],
      [460.00, 300.00],
      [460.00, 240.00],
      [460.00, 180.00],
      [460.00, 120.00],
      [460.00, 60.00],
      [520.00, 60.00],
      [460.00, 60.00],
      [400.00, 60.00],
      [340.00, 60.00],
      [280.00, 60.00],
      [340.00, 60.00],
      [280.00, 60.00],
      [220.00, 60.00],
      [160.00, 60.00],
      [160.00, 120.00],
      [160.00, 180.00],
      [160.00, 240.00],
      [160.00, 300.00],
      [160.00, 240.00],
      [160.00, 180.00],
      [160.00, 120.00],
      [160.00, 60.00],
      [160.00, 0.00],
      [160.00, -60.00],
      [160.00, -120.00],
      [160.00, -180.00],
      [160.00, -240.00],
      [160.00, -300.00],
      [160.00, -240.00],
      [160.00, -180.00],
      [100.00, -180.00],
      [40.00, -180.00],
      [-20.00, -180.00],
      [-80.00, -180.00],
      [-140.00, -180.00],
      [-140.00, -240.00],
      [-200.00, -240.00],
      [-260.00, -240.00],
      [-320.00, -240.00],
      [-380.00, -240.00],
      [-440.00, -240.00],
      [-500.00, -240.00],
      [-440.00, -240.00],
      [-380.00, -240.00],
      [-320.00, -240.00],
      [-260.00, -240.00],
      [-200.00, -240.00],
      [-140.00, -240.00],
      [-80.00, -240.00],
      [-20.00, -240.00],
      [40.00, -240.00],
      [40.00, -300.00],
      [40.00, -240.00],
      [40.00, -180.00],
      [40.00, -120.00],
      [40.00, -180.00],
      [40.00, -240.00],
      [40.00, -300.00],
      [40.00, -240.00],
      [40.00, -180.00],
      [40.00, -120.00],
      [40.00, -60.00],
      [40.00, 0.00],
      [40.00, 60.00],
      [40.00, 120.00],
      [40.00, 60.00],
      [40.00, 0.00],
      [40.00, -60.00],
      [-20.00, -60.00],
      [-20.00, 0.00],
      [-20.00, 60.00],
      [-20.00, 120.00],
      [-20.00, 60.00],
      [-20.00, 0.00],
      [-20.00, -60.00],
      [40.00, -60.00],
      [100.00, -60.00],
      [160.00, -60.00],
      [220.00, -60.00],
      [220.00, -120.00],
      [220.00, -180.00],
      [220.00, -240.00],
      [220.00, -300.00],
      [220.00, -240.00],
      [220.00, -180.00],
      [220.00, -120.00],
      [220.00, -60.00],
      [220.00, 0.00],
      [220.00, 60.00],
      [220.00, 120.00],
      ],
      obstacles: [{"t": "rect", "x": -260, "y": -180, "w": 180, "h": 60}, {"t": "rect", "x": 120, "y": -240, "w": 60, "h": 220}, {"t": "rect", "x": 260, "y": 160, "w": 220, "h": 60}, {"t": "rect", "x": -120, "y": 240, "w": 60, "h": 220}],
    },
  };


  // ---------------------------------------------------------------------------
  // Simulator state
  // ---------------------------------------------------------------------------
  const WORLD_W = 1800;
  const WORLD_H = 1200;

  const DEFAULT_SENSORS = [
    { name:'S1', x: 44, y:-24 }, // front-left
    { name:'S2', x: 44, y: -8 },
    { name:'S3', x: 44, y:  8 },
    { name:'S4', x: 44, y: 24 }, // front-right
  ];
  const DEFAULT_DIST = { name:'D1', x: 50, y:0, angDeg: 0 };

  const STORAGE_KEY = 'rc_sim2d_v2';
  const STORAGE_KEY_OLD = 'rc_sim2d_v1';
  const STORAGE_SOFT_LIMIT = 850 * 1024; // ~850KB: keep room for user blocks in localStorage

  function safeStorageGet(k){
    try{ return window.localStorage.getItem(k); }catch(e){ return null; }
  }
  function safeStorageRemove(k){
    try{ window.localStorage.removeItem(k); }catch(e){}
  }
  function safeStorageSet(k,v){
    try{
      window.localStorage.setItem(k,v);
      return true;
    }catch(e){
      // Quota exceeded or storage blocked. Try to free the old state and retry once.
      try{
        const name = (e && e.name) ? String(e.name) : '';
        const code = (e && typeof e.code === 'number') ? e.code : -1;
        const quota = (name === 'QuotaExceededError' || code === 22 || code === 1014);
        if(quota){
          safeStorageRemove(STORAGE_KEY_OLD);
          try{
            window.localStorage.setItem(k,v);
            return true;
          }catch(_e2){}
        }
      }catch(_){}
      return false;
    }
  }

  function compactUserTrack(ut, maxPointsTotal){
    maxPointsTotal = Math.max(200, maxPointsTotal|0 || 900);
    if(!ut || !Array.isArray(ut.strokes)) return ut;
    const strokes = ut.strokes;
    // Count points
    let total = 0;
    for(const s of strokes) total += (Array.isArray(s) ? s.length : 0);
    if(total <= maxPointsTotal) return ut;

    const out = { strokes: [] };
    const perStrokeMin = 50;
    const perStrokeMax = Math.max(perStrokeMin, Math.floor(maxPointsTotal / Math.max(1, strokes.length)));
    for(const s of strokes){
      const arr = Array.isArray(s) ? s : [];
      if(arr.length <= perStrokeMax){
        out.strokes.push(arr);
        continue;
      }
      const keep = Math.max(perStrokeMin, perStrokeMax);
      const step = Math.max(1, Math.ceil(arr.length / keep));
      const ds = [];
      for(let i=0;i<arr.length;i+=step) ds.push(arr[i]);
      // Ensure last point kept
      if(ds.length && ds[ds.length-1] !== arr[arr.length-1]) ds.push(arr[arr.length-1]);
      out.strokes.push(ds);
    }
    return out;
  }

  function pruneStateForStorage(state){
    // clone shallow
    const s = JSON.parse(JSON.stringify(state || {}));
    // Compact user track aggressively (it can be huge if you draw a lot)
    if(s.userTrack) s.userTrack = compactUserTrack(s.userTrack, 900);
    // Drop big debug logs if any
    if(s.log && Array.isArray(s.log) && s.log.length > 300) s.log = s.log.slice(-300);
    return s;
  }

  function loadState(){
    const raw2 = safeStorageGet(STORAGE_KEY);
    const raw1 = raw2 ? null : safeStorageGet(STORAGE_KEY_OLD);
    const raw = raw2 || raw1;
    if(!raw) return null;

    try{
      const parsed = JSON.parse(raw);
      // If it came from the old key, migrate (and prune).
      if(raw1){
        const pruned = pruneStateForStorage(parsed);
        try{
          safeStorageSet(STORAGE_KEY, JSON.stringify(pruned));
          safeStorageRemove(STORAGE_KEY_OLD);
        }catch(_){}
        return pruned;
      }
      return parsed;
    }catch(e){
      // Corrupted state -> remove it to avoid breaking other saves
      safeStorageRemove(STORAGE_KEY);
      safeStorageRemove(STORAGE_KEY_OLD);
      return null;
    }
  }

  function saveState(s){
    const pruned = pruneStateForStorage(s);
    let raw = '';
    try{
      raw = JSON.stringify(pruned);
    }catch(e){
      return;
    }

    // If still too big, drop userTrack and retry (keep the sim usable & don't kill localStorage).
    if(raw.length > STORAGE_SOFT_LIMIT){
      const smaller = JSON.parse(JSON.stringify(pruned));
      smaller.userTrack = { strokes: [] };
      try{ raw = JSON.stringify(smaller); }catch(_){}
    }
    safeStorageSet(STORAGE_KEY, raw);
  }

  // ---------------------------------------------------------------------------
  // Geometry helpers
  // ---------------------------------------------------------------------------
  function rot(x,y,ang){
    const c = Math.cos(ang), s = Math.sin(ang);
    return { x: x*c - y*s, y: x*s + y*c };
  }
  function len2(x,y){ return x*x + y*y; }
  function dist2(ax,ay,bx,by){ const dx=ax-bx, dy=ay-by; return dx*dx+dy*dy; }

  function rayCircle(ox,oy,dx,dy,cx,cy,r){
    const lx = ox - cx, ly = oy - cy;
    const b = 2*(dx*lx + dy*ly);
    const c = lx*lx + ly*ly - r*r;
    const disc = b*b - 4*c;
    if(disc < 0) return null;
    const sq = Math.sqrt(disc);
    const t1 = (-b - sq) / 2;
    const t2 = (-b + sq) / 2;
    if(t1 >= 0) return t1;
    if(t2 >= 0) return t2;
    return null;
  }

  // axis-aligned rectangle (center x,y, size w,h)
  function rayRect(ox,oy,dx,dy,rx,ry,rw,rh){
    const minX = rx - rw/2, maxX = rx + rw/2;
    const minY = ry - rh/2, maxY = ry + rh/2;

    const invX = dx !== 0 ? 1/dx : Infinity;
    const invY = dy !== 0 ? 1/dy : Infinity;

    let tmin = -Infinity, tmax = Infinity;

    if(invX !== Infinity){
      let tx1 = (minX - ox) * invX;
      let tx2 = (maxX - ox) * invX;
      if(tx1 > tx2) [tx1,tx2] = [tx2,tx1];
      tmin = Math.max(tmin, tx1);
      tmax = Math.min(tmax, tx2);
    }else{
      if(ox < minX || ox > maxX) return null;
    }

    if(invY !== Infinity){
      let ty1 = (minY - oy) * invY;
      let ty2 = (maxY - oy) * invY;
      if(ty1 > ty2) [ty1,ty2] = [ty2,ty1];
      tmin = Math.max(tmin, ty1);
      tmax = Math.min(tmax, ty2);
    }else{
      if(oy < minY || oy > maxY) return null;
    }

    if(tmax < tmin) return null;
    if(tmax < 0) return null;
    return tmin >= 0 ? tmin : tmax;
  }

  // ---------------------------------------------------------------------------
  // Track rendering (offscreen)
  // ---------------------------------------------------------------------------
  function makeOffscreen(){
    const c = document.createElement('canvas');
    c.width = WORLD_W;
    c.height = WORLD_H;
    const ctx = c.getContext('2d', { willReadFrequently:true });
    return { c, ctx, img: null };
  }

  function clearTrack(off){
    off.ctx.save();
    off.ctx.setTransform(1,0,0,1,0,0);
    off.ctx.clearRect(0,0,WORLD_W,WORLD_H);
    off.ctx.fillStyle = '#fff';
    off.ctx.fillRect(0,0,WORLD_W,WORLD_H);
    off.ctx.restore();
    off.img = null;
  }

  function drawPolyline(off, pts, lineWidth){
    const ctx = off.ctx;
    ctx.save();
    ctx.translate(WORLD_W/2, WORLD_H/2);
    ctx.lineCap = 'round';
    ctx.lineJoin = 'round';
    ctx.strokeStyle = '#000';
    ctx.lineWidth = lineWidth;
    ctx.beginPath();
    for(let i=0;i<pts.length;i++){
      const p = pts[i];
      if(i===0) ctx.moveTo(p[0], p[1]);
      else ctx.lineTo(p[0], p[1]);
    }
    ctx.closePath();
    ctx.stroke();
    ctx.restore();
    off.img = off.ctx.getImageData(0,0,WORLD_W,WORLD_H);
  }

  function drawUserStrokes(off, strokes, lineWidth){
    if(!strokes || !strokes.length) return;
    const ctx = off.ctx;
    ctx.save();
    ctx.translate(WORLD_W/2, WORLD_H/2);
    ctx.lineCap = 'round';
    ctx.lineJoin = 'round';
    ctx.strokeStyle = '#000';
    ctx.lineWidth = lineWidth;
    for(const stroke of strokes){
      if(!stroke || stroke.length < 2) continue;
      ctx.beginPath();
      for(let i=0;i<stroke.length;i++){
        const p = stroke[i];
        if(i===0) ctx.moveTo(p[0], p[1]); else ctx.lineTo(p[0], p[1]);
      }
      ctx.stroke();
    }
    ctx.restore();
  }

  function renderTrack(off, trackKey, user){
    const t = BUILTIN_TRACKS[trackKey] || BUILTIN_TRACKS.oval;
    clearTrack(off);
    drawPolyline(off, t.points, t.lineWidth);
    // user-drawn strokes overlay (optional)
    if(user && user.strokes && user.strokes.length){
      drawUserStrokes(off, user.strokes, t.lineWidth);
      off.img = off.ctx.getImageData(0,0,WORLD_W,WORLD_H);
    }
    return t;
  }

  // ---------------------------------------------------------------------------
  // Sampling sensors from track image
  // ---------------------------------------------------------------------------
  function sampleTrack(off, wx, wy){
    if(!off.img) off.img = off.ctx.getImageData(0,0,WORLD_W,WORLD_H);
    const ix = Math.round(wx + WORLD_W/2);
    const iy = Math.round(wy + WORLD_H/2);
    if(ix < 0 || iy < 0 || ix >= WORLD_W || iy >= WORLD_H) return 0;
    const idx = (iy*WORLD_W + ix) * 4;
    const d = off.img.data;
    const r = d[idx]; // 0..255
    // black line => r small => return 100
    return r < 50 ? 100 : 0;
  }

  // ---------------------------------------------------------------------------
  // Simulator core (physics + render)
  // ---------------------------------------------------------------------------
  const sim = {
    isOpen:false,
    running:false,
    // view
    view:{ scale:1.0, panX:0, panY:0 },
    // robot
    car:{
      x:0, y:0, ang:0,
      w:64, h:42,
      wheelBase:62,
      maxSpeed:260,     // px/sec at 100%
      maxAccel:720,     // px/sec^2
      curL:0, curR:0,
      tgtL:0, tgtR:0,
    },
    sensors: DEFAULT_SENSORS.map(s=>({...s})),
    dist: { ...DEFAULT_DIST },
    sensorData:[0,0,0,0],
    distanceData:[0],
    trackKey:'oval',
    track:null,
    userTrack:{ strokes:[] },
    obstacles:[],
    // dom
    dom:{},
    off: makeOffscreen(),
    // runtime
    runToken:0,
    userTask:null,
    lastT:0,
  };

  function resetCar(){
    sim.car.x = 0;
    sim.car.y = 0;
    sim.car.ang = -Math.PI/2;
    sim.car.curL = sim.car.curR = 0;
    sim.car.tgtL = sim.car.tgtR = 0;
  }

  function applyMotors(lPct, rPct){
    sim.car.tgtL = clamp(lPct, -100, 100);
    sim.car.tgtR = clamp(rPct, -100, 100);
  }

  function stepPhysics(dt){
    const car = sim.car;
    // convert % to speed
    const tgtVL = (car.tgtL/100) * car.maxSpeed;
    const tgtVR = (car.tgtR/100) * car.maxSpeed;
    // accel limit
    const maxDv = car.maxAccel * dt;
    car.curL += clamp(tgtVL - car.curL, -maxDv, maxDv);
    car.curR += clamp(tgtVR - car.curR, -maxDv, maxDv);

    const v = (car.curL + car.curR) * 0.5;
    const w = (car.curR - car.curL) / car.wheelBase;

    const nx = car.x + Math.cos(car.ang) * v * dt;
    const ny = car.y + Math.sin(car.ang) * v * dt;
    const na = car.ang + w * dt;

    // basic collision with bounds
    const halfW = WORLD_W/2 - 20;
    const halfH = WORLD_H/2 - 20;
    let ok = (nx > -halfW && nx < halfW && ny > -halfH && ny < halfH);

    // collision with obstacles (AABB vs oriented rectangle approximate by circle)
    if(ok && sim.obstacles && sim.obstacles.length){
      const rad = Math.max(car.w, car.h) * 0.55;
      for(const o of sim.obstacles){
        if(o.t === 'circle'){
          if(dist2(nx,ny,o.x,o.y) < (rad + o.r)*(rad + o.r)){ ok=false; break; }
        }else if(o.t === 'rect'){
          const minX = o.x - o.w/2, maxX = o.x + o.w/2;
          const minY = o.y - o.h/2, maxY = o.y + o.h/2;
          const cx = clamp(nx, minX, maxX);
          const cy = clamp(ny, minY, maxY);
          if(dist2(nx,ny,cx,cy) < rad*rad){ ok=false; break; }
        }
      }
    }

    if(ok){
      car.x = nx; car.y = ny; car.ang = na;
    }else{
      // if hit -> stop gently
      car.curL *= 0.35;
      car.curR *= 0.35;
      car.tgtL = 0; car.tgtR = 0;
    }
  }

  function updateSensors(){
    const car = sim.car;
    const ang = car.ang;
    // line sensors
    for(let i=0;i<sim.sensors.length;i++){
      const s = sim.sensors[i];
      const p = rot(s.x, s.y, ang);
      const wx = car.x + p.x;
      const wy = car.y + p.y;
      sim.sensorData[i] = sampleTrack(sim.off, wx, wy);
    }

    // distance sensor
    const ds = sim.dist;
    const p0 = rot(ds.x, ds.y, ang);
    const ox = car.x + p0.x;
    const oy = car.y + p0.y;
    const a = ang + (ds.angDeg||0) * Math.PI/180;
    const dx = Math.cos(a), dy = Math.sin(a);

    const maxDist = 520;
    let best = maxDist;

    // bounds
    // ray vs world AABB
    const tBound = rayRect(ox,oy,dx,dy, 0,0, WORLD_W-40, WORLD_H-40);
    if(tBound != null) best = Math.min(best, tBound);

    // obstacles
    for(const o of (sim.obstacles||[])){
      let t = null;
      if(o.t === 'circle') t = rayCircle(ox,oy,dx,dy, o.x,o.y, o.r);
      else if(o.t === 'rect') t = rayRect(ox,oy,dx,dy, o.x,o.y, o.w,o.h);
      if(t != null) best = Math.min(best, t);
    }

    sim.distanceData[0] = Math.round(best);
    // publish to user code
    window.sensorData = sim.sensorData.slice();
    window.distanceData = sim.distanceData.slice();
  }

  // ---------------------------------------------------------------------------
  // Render
  // ---------------------------------------------------------------------------
  function w2s(wx, wy, canvas){
    const cx = canvas.width/2, cy = canvas.height/2;
    return {
      x: wx*sim.view.scale + cx + sim.view.panX,
      y: wy*sim.view.scale + cy + sim.view.panY
    };
  }
  function s2w(sx, sy, canvas){
    const cx = canvas.width/2, cy = canvas.height/2;
    return {
      x: (sx - cx - sim.view.panX)/sim.view.scale,
      y: (sy - cy - sim.view.panY)/sim.view.scale
    };
  }

  function draw(ctx, canvas){
    // background: offscreen track
    ctx.save();
    ctx.setTransform(1,0,0,1,0,0);
    ctx.clearRect(0,0,canvas.width,canvas.height);

    // draw track with view transform
    const cx = canvas.width/2, cy = canvas.height/2;
    ctx.translate(cx + sim.view.panX, cy + sim.view.panY);
    ctx.scale(sim.view.scale, sim.view.scale);
    ctx.translate(-WORLD_W/2, -WORLD_H/2);
    ctx.drawImage(sim.off.c, 0,0);

    // obstacles overlay
    ctx.save();
    ctx.translate(WORLD_W/2, WORLD_H/2);
    ctx.globalAlpha = 0.35;
    ctx.fillStyle = '#ef4444';
    for(const o of (sim.obstacles||[])){
      if(o.t === 'circle'){
        ctx.beginPath();
        ctx.arc(o.x, o.y, o.r, 0, Math.PI*2);
        ctx.fill();
      }else if(o.t === 'rect'){
        ctx.fillRect(o.x - o.w/2, o.y - o.h/2, o.w, o.h);
      }
    }
    ctx.restore();

    // robot
    ctx.save();
    ctx.translate(WORLD_W/2, WORLD_H/2);
    const car = sim.car;
    ctx.translate(car.x, car.y);
    ctx.rotate(car.ang);

    // body
    ctx.fillStyle = '#60a5fa';
    ctx.strokeStyle = '#0b1220';
    ctx.lineWidth = 2/sim.view.scale;
    const bw = car.w, bh = car.h;
    ctx.beginPath();
    const r = 10;
    ctx.moveTo(-bw/2 + r, -bh/2);
    ctx.lineTo(bw/2 - r, -bh/2);
    ctx.quadraticCurveTo(bw/2, -bh/2, bw/2, -bh/2 + r);
    ctx.lineTo(bw/2, bh/2 - r);
    ctx.quadraticCurveTo(bw/2, bh/2, bw/2 - r, bh/2);
    ctx.lineTo(-bw/2 + r, bh/2);
    ctx.quadraticCurveTo(-bw/2, bh/2, -bw/2, bh/2 - r);
    ctx.lineTo(-bw/2, -bh/2 + r);
    ctx.quadraticCurveTo(-bw/2, -bh/2, -bw/2 + r, -bh/2);
    ctx.closePath();
    ctx.fill();
    ctx.stroke();

    // direction arrow
    ctx.fillStyle = '#0f172a';
    ctx.beginPath();
    ctx.moveTo(bw/2 - 6, 0);
    ctx.lineTo(bw/2 - 18, -8);
    ctx.lineTo(bw/2 - 18, 8);
    ctx.closePath();
    ctx.fill();

    // wheels
    ctx.fillStyle = '#111827';
    ctx.fillRect(-bw/2 - 6, -bh/2 + 6, 10, bh - 12);
    ctx.fillRect(bw/2 - 4, -bh/2 + 6, 10, bh - 12);

    // sensors
    for(let i=0;i<sim.sensors.length;i++){
      const s = sim.sensors[i];
      ctx.beginPath();
      ctx.fillStyle = sim.sensorData[i] ? '#22c55e' : '#eab308';
      ctx.arc(s.x, s.y, 4.2, 0, Math.PI*2);
      ctx.fill();
      if(sim.dom && sim.dom.editSensors){
        ctx.strokeStyle = 'rgba(255,255,255,.7)';
        ctx.lineWidth = 1.2;
        ctx.stroke();
      }
    }

    // distance ray
    const ds = sim.dist;
    const a = (ds.angDeg||0) * Math.PI/180;
    ctx.strokeStyle = 'rgba(56,189,248,.85)';
    ctx.lineWidth = 1.4;
    ctx.beginPath();
    ctx.moveTo(ds.x, ds.y);
    ctx.lineTo(ds.x + Math.cos(a)*sim.distanceData[0], ds.y + Math.sin(a)*sim.distanceData[0]);
    ctx.stroke();

    ctx.restore(); // robot group

    ctx.restore(); // world group
  }

  function resizeCanvas(canvas){
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    const w = Math.max(2, Math.floor(rect.width * dpr));
    const h = Math.max(2, Math.floor(rect.height * dpr));
    if(canvas.width !== w || canvas.height !== h){
      canvas.width = w;
      canvas.height = h;
    }
  }

  // ---------------------------------------------------------------------------
  // Runtime hooks (JS program -> motors)
  // ---------------------------------------------------------------------------
  function installRuntimeAPI(){
    const token = ++sim.runToken;
    let stopped = false;

    window.__shouldStop = false;

    async function wait(ms){
      const start = now();
      const dur = Math.max(0, Number(ms)||0);
      while(true){
        if(stopped || token !== sim.runToken || window.__shouldStop) throw new Error('stopped');
        const t = now() - start;
        if(t >= dur) return;
        // keep UI responsive
        await new Promise(r=> setTimeout(r, 10));
      }
    }

    async function sendDrivePacket(l, r){
      if(stopped || token !== sim.runToken || window.__shouldStop) return;
      // accept 2 args or 4 args (L,R,L,R)
      const L = Number(l)||0;
      const R = Number(r)||0;
      applyMotors(L, R);
      return;
    }

    function rc_millis(){ return Math.floor(now()); }

    function getSensor(i){ return sim.sensorData[clamp(i|0,0,sim.sensorData.length-1)]|0; }
    function getDistance(){ return sim.distanceData[0]|0; }

    // expose a minimal API to the global scope (for generated code)
    window.sendDrivePacket = sendDrivePacket;
    window.wait = wait;
    window.sleep = wait;
    window.rc_millis = rc_millis;
    window.getSensor = getSensor;
    window.getDistance = getDistance;

    return {
      stop: ()=>{
        stopped = true;
        window.__shouldStop = true;
        applyMotors(0,0);
      },
      token
    };
  }

  function pickBlocklyCode(){
    try{
      if(window.RC_CUSTOMBLOCK && window.RC_CUSTOMBLOCK.builder && window.RC_CUSTOMBLOCK.builder.ws && window.Blockly && window.Blockly.JavaScript){
        const code = window.Blockly.JavaScript.workspaceToCode(window.RC_CUSTOMBLOCK.builder.ws);
        if(code && code.trim()) return code;
      }
    }catch(e){}
    try{
      if(window.workspace && window.Blockly && window.Blockly.JavaScript){
        const code = window.Blockly.JavaScript.workspaceToCode(window.workspace);
        if(code && code.trim()) return code;
      }
    }catch(e){}
    return '';
  }

  async function runUserProgram(){
    // stop any previous run
    stopUserProgram();

    const api = installRuntimeAPI();
    sim.running = true;
    sim.dom.btnRun.textContent = 'Стоп';
    sim.dom.btnRun.classList.add('danger');

    const code = (pickBlocklyCode() || sim.dom.taCode.value || '').trim();
    if(!code){
      toast('Нема коду: згенеруй з Blockly або встав у поле.');
      stopUserProgram();
      return;
    }

    // run in async wrapper with limited globals
    const sendDrivePacket = window.sendDrivePacket;
    const wait = window.wait;
    const sleep = window.sleep;
    const rc_millis = window.rc_millis;
    const getSensor = window.getSensor;
    const getDistance = window.getDistance;

    try{
      const fn = new Function('sendDrivePacket','wait','sleep','rc_millis','getSensor','getDistance',
        `"use strict";\nreturn (async()=>{\n${code}\n})();`
      );
      sim.userTask = fn(sendDrivePacket, wait, sleep, rc_millis, getSensor, getDistance);
      await sim.userTask;
      toast('Готово.');
    }catch(e){
      if(String(e && e.message||'').includes('stopped')) toast('Зупинено.');
      else toast('Помилка: ' + (e && e.message ? e.message : e));
      console.error(e);
    }finally{
      if(api.token === sim.runToken){
        stopUserProgram(false);
      }
    }
  }

  function stopUserProgram(changeUI=true){
    sim.runToken++;
    window.__shouldStop = true;
    applyMotors(0,0);
    sim.running = false;
    sim.userTask = null;
    if(changeUI && sim.dom && sim.dom.btnRun){
      sim.dom.btnRun.textContent = 'Запустити';
      sim.dom.btnRun.classList.remove('danger');
    }
  }

  // ---------------------------------------------------------------------------
  // UI + interactions (pan/zoom + sensor edit + track draw)
  // ---------------------------------------------------------------------------
  function buildUI(){
    const backdrop = el('div', { class:'rcSimBackdrop' });
    const modal = el('div', { class:'rcSimModal', role:'dialog', 'aria-label':'Robot simulator' });

    const hdr = el('div', { class:'rcSimHdr' },
      el('div', { class:'title' }, el('span', { class:'dot' }), 'СИМУЛЯТОР РОБОТА (2D)'),
      el('div', { class:'actions' },
        el('button', { class:'rcSimBtn', onclick: ()=> downloadState() }, 'Export JSON'),
        el('button', { class:'rcSimBtn', onclick: ()=> importState() }, 'Import JSON'),
        el('button', { class:'rcSimBtn', onclick: ()=> close() }, '✕')
      )
    );

    const side = el('div', { class:'rcSimSide' });

    const trackSel = el('select', {});
    const HIDDEN = new Set(['maze','spiral']);
    Object.values(BUILTIN_TRACKS).forEach(t=>{
      if(HIDDEN.has(t.key)) return;
      trackSel.appendChild(el('option', { value:t.key }, t.name));
    });

    const chkSensors = el('input', { type:'checkbox' });
    const chkTrack = el('input', { type:'checkbox' });

    const speedScale = el('input', { type:'range', min:'0.4', max:'2.0', step:'0.05', value:'1.0' });

    side.appendChild(el('h3', {}, 'Траса'));
    side.appendChild(el('div', { class:'rcSimRow' }, el('label', {}, 'Шаблон'), trackSel));
    side.appendChild(el('div', { class:'rcSimRow' }, el('label', {}, 'Редагувати сенсори'), chkSensors));
    side.appendChild(el('div', { class:'rcSimRow' }, el('label', {}, 'Малювати трасу'), chkTrack));
    side.appendChild(el('div', { class:'rcSimRow' }, el('label', {}, 'Швидкість симуляції'), speedScale));
    side.appendChild(el('div', { class:'rcSimHint' },
      '• Колесо мишки: зум (як в Scratch)\n',
      '• ЛКМ по фону: панорамування\n',
      '• Редагувати сенсори: тягни 4 точки на машинці\n',
      '• Малювати трасу: малюй лінію ЛКМ по полі (потім Export)\n'
    ));

    side.appendChild(el('h3', {}, 'Сенсори'));
    const sensorsBox = el('div', {});
    side.appendChild(sensorsBox);

    side.appendChild(el('h3', {}, 'Код (опційно)'));
    const codeBox = el('div', { class:'rcSimCodeBox' },
      el('div', { class:'rcSimSmall' }, 'Якщо Blockly-код пустий — встав JS вручну:'),
      el('textarea', { spellcheck:'false', placeholder:'// JS code... \n// use sendDrivePacket(L,R); await wait(ms); \n' })
    );
    side.appendChild(codeBox);

    const canvasWrap = el('div', { class:'rcSimCanvasWrap' });
    const canvas = el('canvas', { class:'rcSimCanvas' });
    const overlay = el('div', { class:'rcSimOverlay' },
      el('div', { class:'rcSimBadge', id:'rcSimBadge1' }, 'S: [0,0,0,0]'),
      el('div', { class:'rcSimBadge', id:'rcSimBadge2' }, 'D: 0 мм'),
      el('div', { class:'rcSimBadge', id:'rcSimBadge3' }, 'Zoom: 100%')
    );
    canvasWrap.appendChild(canvas);
    canvasWrap.appendChild(overlay);

    const body = el('div', { class:'rcSimBody' }, side, canvasWrap);

    const btnRun = el('button', { class:'rcSimBtn primary', onclick: ()=> { if(sim.running) stopUserProgram(); else runUserProgram(); } }, 'Запустити');
    const btnReset = el('button', { class:'rcSimBtn', onclick: ()=> { resetCar(); updateSensors(); } }, 'Reset');
    const btnCenter = el('button', { class:'rcSimBtn', onclick: ()=> { sim.view.scale=1; sim.view.panX=0; sim.view.panY=0; } }, 'Center');
    const btnClear = el('button', { class:'rcSimBtn danger', onclick: ()=> { clearUserTrack(); } }, 'Clear Track');

    const footer = el('div', { class:'rcSimFooter' },
      el('div', { class:'left' }, btnRun, btnReset, btnCenter, btnClear),
      el('div', { class:'right' }, el('span', { class:'rcSimSmall' }, 'ESC — закрити') )
    );

    modal.appendChild(hdr);
    modal.appendChild(body);
    modal.appendChild(footer);

    // store dom refs
    sim.dom = {
      backdrop, modal, canvas, ctx: canvas.getContext('2d'),
      trackSel, chkSensors, chkTrack, speedScale,
      sensorsBox,
      taCode: codeBox.querySelector('textarea'),
      btnRun,
      badge1: $('#rcSimBadge1', overlay),
      badge2: $('#rcSimBadge2', overlay),
      badge3: $('#rcSimBadge3', overlay),
      editSensors:false,
      editTrack:false,
    };

    // fill sensors list UI
    rebuildSensorsList();

    // handlers
    trackSel.addEventListener('change', ()=>{
      sim.trackKey = trackSel.value;
      applyTrack();
      persist();
    });
    chkSensors.addEventListener('change', ()=>{
      sim.dom.editSensors = !!chkSensors.checked;
      persist();
    });
    chkTrack.addEventListener('change', ()=>{
      sim.dom.editTrack = !!chkTrack.checked;
      persist();
    });
    speedScale.addEventListener('input', ()=>{
      persist();
    });

    // close on backdrop click
    backdrop.addEventListener('click', (e)=>{
      if(e.target === backdrop) close();
    });

    // esc close
    window.addEventListener('keydown', onKeyDown);

    // pan/zoom + edit
    attachCanvasInteractions();

    return { backdrop, modal };
  }

  function onKeyDown(e){
    if(!sim.isOpen) return;
    if(e.key === 'Escape'){ e.preventDefault(); close(); }
  }

  function rebuildSensorsList(){
    const box = sim.dom && sim.dom.sensorsBox;
    if(!box) return;
    box.innerHTML = '';
    sim.sensors.forEach((s, idx)=>{
      const row = el('div', { class:'rcSimRow' },
        el('label', {}, `${s.name} (x,y)`),
        el('input', { type:'number', value:String(s.x), step:'1', oninput:(ev)=>{ s.x = Number(ev.target.value)||0; persist(); } }),
        el('input', { type:'number', value:String(s.y), step:'1', oninput:(ev)=>{ s.y = Number(ev.target.value)||0; persist(); } }),
      );
      box.appendChild(row);
    });
    // distance sensor row
    box.appendChild(el('div', { class:'rcSimRow' },
      el('label', {}, `${sim.dist.name} (x,y,°)`),
      el('input', { type:'number', value:String(sim.dist.x), step:'1', oninput:(ev)=>{ sim.dist.x = Number(ev.target.value)||0; persist(); } }),
      el('input', { type:'number', value:String(sim.dist.y), step:'1', oninput:(ev)=>{ sim.dist.y = Number(ev.target.value)||0; persist(); } }),
      el('input', { type:'number', value:String(sim.dist.angDeg), step:'1', oninput:(ev)=>{ sim.dist.angDeg = Number(ev.target.value)||0; persist(); } }),
    ));
  }

  // ---------------------------------------------------------------------------
  // Canvas interactions
  // ---------------------------------------------------------------------------
  function attachCanvasInteractions(){
    const canvas = sim.dom.canvas;
    let dragging = false;
    let dragMode = 'pan'; // 'pan' | 'sensor' | 'draw'
    let dragStart = { sx:0, sy:0, panX:0, panY:0 };
    let sensorIdx = -1;
    let activeStroke = null;

    function getEventPos(ev){
      const rect = canvas.getBoundingClientRect();
      const dpr = window.devicePixelRatio||1;
      const sx = (ev.clientX - rect.left) * dpr;
      const sy = (ev.clientY - rect.top) * dpr;
      return { sx, sy };
    }

    function hitSensor(wp){
      const car = sim.car;
      const ang = car.ang;
      const rHit = 10 / sim.view.scale;
      for(let i=0;i<sim.sensors.length;i++){
        const s = sim.sensors[i];
        const p = rot(s.x, s.y, ang);
        const wx = car.x + p.x;
        const wy = car.y + p.y;
        if(dist2(wp.x, wp.y, wx, wy) < rHit*rHit) return i;
      }
      return -1;
    }

    canvas.addEventListener('wheel', (ev)=>{
      if(!sim.isOpen) return;
      ev.preventDefault();
      const { sx, sy } = getEventPos(ev);
      const w = s2w(sx, sy, canvas);
      const delta = ev.deltaY;
      const factor = delta > 0 ? 0.92 : 1.08;
      const newScale = clamp(sim.view.scale * factor, 0.28, 4.0);
      // zoom about cursor
      const cx = canvas.width/2, cy = canvas.height/2;
      sim.view.scale = newScale;
      sim.view.panX = sx - cx - w.x*sim.view.scale;
      sim.view.panY = sy - cy - w.y*sim.view.scale;
    }, { passive:false });

    canvas.addEventListener('pointerdown', (ev)=>{
      if(!sim.isOpen) return;
      canvas.setPointerCapture(ev.pointerId);
      ev.preventDefault();
      const { sx, sy } = getEventPos(ev);
      const wp = s2w(sx, sy, canvas);

      dragMode = 'pan';
      sensorIdx = -1;
      activeStroke = null;

      if(sim.dom.editSensors){
        const idx = hitSensor(wp);
        if(idx >= 0){
          dragMode = 'sensor';
          sensorIdx = idx;
        }
      }else if(sim.dom.editTrack){
        dragMode = 'draw';
        activeStroke = [];
        activeStroke.push([wp.x, wp.y]);
        sim.userTrack.strokes.push(activeStroke);
        drawStrokeSegment(wp.x, wp.y, wp.x, wp.y);
      }

      dragging = true;
      dragStart = { sx, sy, panX: sim.view.panX, panY: sim.view.panY };
      canvas.classList.add('grabbing');
    });

    canvas.addEventListener('pointermove', (ev)=>{
      if(!sim.isOpen) return;
      if(!dragging) return;
      ev.preventDefault();
      const { sx, sy } = getEventPos(ev);
      const wp = s2w(sx, sy, canvas);

      if(dragMode === 'pan'){
        sim.view.panX = dragStart.panX + (sx - dragStart.sx);
        sim.view.panY = dragStart.panY + (sy - dragStart.sy);
      }else if(dragMode === 'sensor' && sensorIdx >= 0){
        // convert world point to car-local
        const car = sim.car;
        const dx = wp.x - car.x;
        const dy = wp.y - car.y;
        const p = rot(dx, dy, -car.ang);
        sim.sensors[sensorIdx].x = Math.round(p.x);
        sim.sensors[sensorIdx].y = Math.round(p.y);
      }else if(dragMode === 'draw' && activeStroke){
        const last = activeStroke[activeStroke.length-1];
        if(!last) return;
        const lx = last[0], ly = last[1];
        // add point if moved enough
        if(dist2(lx,ly,wp.x,wp.y) > (8/sim.view.scale)**2){
          activeStroke.push([wp.x, wp.y]);
          drawStrokeSegment(lx, ly, wp.x, wp.y);
        }
      }
    });

    function endDrag(ev){
      if(!sim.isOpen) return;
      if(!dragging) return;
      ev.preventDefault();
      dragging = false;
      canvas.classList.remove('grabbing');
      // refresh track image after drawing
      if(dragMode === 'draw'){
        sim.off.img = sim.off.ctx.getImageData(0,0,WORLD_W,WORLD_H);
        persist();
      }else if(dragMode === 'sensor'){
        persist();
        rebuildSensorsList();
      }
      dragMode = 'pan';
      sensorIdx = -1;
      activeStroke = null;
    }
    canvas.addEventListener('pointerup', endDrag);
    canvas.addEventListener('pointercancel', endDrag);

    // prevent context menu on canvas
    canvas.addEventListener('contextmenu', (ev)=> ev.preventDefault());
  }

  function drawStrokeSegment(x1,y1,x2,y2){
    // draw directly onto offscreen track canvas (world space)
    const ctx = sim.off.ctx;
    const t = BUILTIN_TRACKS[sim.trackKey] || BUILTIN_TRACKS.oval;
    ctx.save();
    ctx.translate(WORLD_W/2, WORLD_H/2);
    ctx.lineCap = 'round';
    ctx.lineJoin = 'round';
    ctx.strokeStyle = '#000';
    ctx.lineWidth = t.lineWidth;
    ctx.beginPath();
    ctx.moveTo(x1,y1);
    ctx.lineTo(x2,y2);
    ctx.stroke();
    ctx.restore();
  }

  function clearUserTrack(){
    sim.userTrack.strokes = [];
    applyTrack();
    persist();
  }

  // ---------------------------------------------------------------------------
  // Import / Export
  // ---------------------------------------------------------------------------
  function snapshot(){
    return {
      v:1,
      trackKey: sim.trackKey,
      sensors: sim.sensors.map(s=>({name:s.name,x:s.x,y:s.y})),
      dist: { ...sim.dist },
      userTrack: compactUserTrack(sim.userTrack, 900),
      view: { ...sim.view },
      prefs: {
        editSensors: !!(sim.dom && sim.dom.editSensors),
        editTrack: !!(sim.dom && sim.dom.editTrack),
        speedScale: (sim.dom && sim.dom.speedScale) ? (Number(sim.dom.speedScale.value)||1) : 1,
      },
    };
  }

  function downloadState(){
    try{
      const blob = new Blob([JSON.stringify(snapshot(), null, 2)], { type:'application/json' });
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'rc_sim2d.json';
      a.click();
      setTimeout(()=> URL.revokeObjectURL(a.href), 1000);
    }catch(e){
      toast('Не вдалось експортувати JSON.');
    }
  }

  function importState(){
    const inp = document.createElement('input');
    inp.type = 'file';
    inp.accept = 'application/json';
    inp.onchange = async ()=>{
      const f = inp.files && inp.files[0];
      if(!f) return;
      try{
        const txt = await f.text();
        const s = JSON.parse(txt);
        applySnapshot(s);
        persist();
        toast('Імпортовано.');
      }catch(e){
        toast('JSON не читається.');
      }
    };
    inp.click();
  }

  function applySnapshot(s){
    if(!s || typeof s !== 'object') return;
    sim.trackKey = (s.trackKey && BUILTIN_TRACKS[s.trackKey]) ? s.trackKey : 'oval';
    if(Array.isArray(s.sensors) && s.sensors.length === 4){
      sim.sensors = s.sensors.map((p,i)=>({name:DEFAULT_SENSORS[i].name, x:Number(p.x)||0, y:Number(p.y)||0}));
    }
    if(s.dist){
      sim.dist.x = Number(s.dist.x)||DEFAULT_DIST.x;
      sim.dist.y = Number(s.dist.y)||DEFAULT_DIST.y;
      sim.dist.angDeg = Number(s.dist.angDeg)||0;
    }
    if(s.userTrack && Array.isArray(s.userTrack.strokes)){
      sim.userTrack = { strokes: s.userTrack.strokes };
    }
    if(s.view){
      sim.view.scale = clamp(Number(s.view.scale)||1, 0.28, 4.0);
      sim.view.panX = Number(s.view.panX)||0;
      sim.view.panY = Number(s.view.panY)||0;
    }
    if(s.prefs){
      sim._prefs = {
        editSensors: !!s.prefs.editSensors,
        editTrack: !!s.prefs.editTrack,
        speedScale: clamp(Number(s.prefs.speedScale)||1, 0.4, 2.0),
      };
    }
    applyTrack();
    rebuildSensorsList();
    // UI reflect
    if(sim.dom && sim.dom.trackSel){
      sim.dom.trackSel.value = sim.trackKey;
      const prefs = sim._prefs || { editSensors:false, editTrack:false, speedScale:1 };
      if(sim.dom.chkSensors) sim.dom.chkSensors.checked = !!prefs.editSensors;
      if(sim.dom.chkTrack) sim.dom.chkTrack.checked = !!prefs.editTrack;
      if(sim.dom.speedScale) sim.dom.speedScale.value = String(clamp(prefs.speedScale||1, 0.4, 2.0));
      sim.dom.editSensors = !!prefs.editSensors;
      sim.dom.editTrack = !!prefs.editTrack;
    }
  }

  // ---------------------------------------------------------------------------
  // Track / persistence
  // ---------------------------------------------------------------------------
  function applyTrack(){
    const t = renderTrack(sim.off, sim.trackKey, sim.userTrack);
    sim.track = t;
    sim.obstacles = Array.isArray(t.obstacles) ? t.obstacles.slice() : [];
  }

  function persist(){
    const s = snapshot();
    saveState(s);
  }

  // ---------------------------------------------------------------------------
  // Main loop
  // ---------------------------------------------------------------------------
  function tick(t){
    if(!sim.isOpen) return;
    const canvas = sim.dom.canvas;
    resizeCanvas(canvas);

    const dt = sim.lastT ? (t - sim.lastT)/1000 : 0;
    sim.lastT = t;

    // speed scale
    const speedMul = clamp(Number(sim.dom.speedScale.value)||1, 0.4, 2.0);
    const stepDt = clamp(dt, 0, 0.05) * speedMul;

    if(sim.running){
      stepPhysics(stepDt);
    }
    updateSensors();

    // render
    draw(sim.dom.ctx, canvas);

    // badges
    sim.dom.badge1.textContent = `S: [${sim.sensorData.join(', ')}]`;
    sim.dom.badge2.textContent = `D: ${sim.distanceData[0]} мм`;
    sim.dom.badge3.textContent = `Zoom: ${Math.round(sim.view.scale*100)}%`;

    raf(tick);
  }

  // ---------------------------------------------------------------------------
  // Open / Close
  // ---------------------------------------------------------------------------
  function open(){
    if(sim.isOpen){
      // bring to front
      sim.dom.modal.focus?.();
      return;
    }

    // Build UI first. (applySnapshot() touches sim.dom.*)
    const ui = buildUI();
    document.body.appendChild(ui.backdrop);
    document.body.appendChild(ui.modal);

    // Load state AFTER UI exists
    const st = loadState();
    if(st) applySnapshot(st);
    else applyTrack();

    resetCar();
    updateSensors();
    rebuildSensorsList();

    // reflect state in UI
    if(sim.dom.trackSel) sim.dom.trackSel.value = sim.trackKey;
    const prefs = sim._prefs || { editSensors:false, editTrack:false, speedScale:1 };
    if(sim.dom.chkSensors) sim.dom.chkSensors.checked = !!prefs.editSensors;
    if(sim.dom.chkTrack) sim.dom.chkTrack.checked = !!prefs.editTrack;
    sim.dom.editSensors = !!prefs.editSensors;
    sim.dom.editTrack = !!prefs.editTrack;
    if(sim.dom.speedScale) sim.dom.speedScale.value = String(clamp(prefs.speedScale||1, 0.4, 2.0));

    sim.isOpen = true;
    sim.lastT = 0;
    raf(tick);
  }

  function close(){
    if(!sim.isOpen) return;
    stopUserProgram(false);
    sim.isOpen = false;
    try{
      window.removeEventListener('keydown', onKeyDown);
    }catch(e){}
    try{
      sim.dom.backdrop.remove();
      sim.dom.modal.remove();
    }catch(e){}
    sim.dom = {};
  }

  // Expose as global module
  window.RC_SIM2D = {
    open,
    close,
    snapshot: ()=> snapshot(),
    applySnapshot: (s)=> applySnapshot(s),
  };

  // In case user wants auto-open from console:
  // window.RC_SIM2D.open();

})();
